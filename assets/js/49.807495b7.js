(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{2334:function(a,t,s){"use strict";s.r(t);var i=s(21),e=Object(i.a)({},(function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[i("h1",{attrs:{id:"第五节-线程池的拒绝策略"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#第五节-线程池的拒绝策略"}},[a._v("#")]),a._v(" 第五节 线程池的拒绝策略")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(484),loading:"lazy"}})]),a._v(" "),i("p",[a._v("重要的事情说三遍——以下重要！以下重要！以下重要！")]),a._v(" "),i("ul",[i("li",[i("p",[a._v("【反直觉】"),i("span",{staticStyle:{color:"blue","font-weight":"bold"}},[a._v("刚创建线程池时，线程池中的线程数为零")]),a._v("。")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(485),loading:"lazy"}})])]),a._v(" "),i("li",[i("p",[a._v("当调用execute()方法添加一个请求任务时，线程池会做出如下判断：")]),a._v(" "),i("ul",[i("li",[i("p",[a._v("如果正在运行的线程数量小于corePoolSize，那么马上创建线程运行这个任务；")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(486),loading:"lazy"}})]),a._v(" "),i("p",[a._v("……")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(487),loading:"lazy"}})])]),a._v(" "),i("li",[i("p",[a._v("【反直觉】如果正在运行的线程数量大于或等于corePoolSize，那么将这个任务放入队列；")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(488),loading:"lazy"}})]),a._v(" "),i("p",[a._v("……")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(489),loading:"lazy"}})])]),a._v(" "),i("li",[i("p",[a._v("【反直觉】如果这个时候队列满了且正在运行的线程数量还小于maximumPoolSize，那么还是要创建非核心线程立刻运行这个任务；")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(490),loading:"lazy"}})])]),a._v(" "),i("li",[i("p",[a._v("如果队列满了且正在运行的线程数量大于或等于maximumPoolSize，那么线程池会启动饱和拒绝策略来执行。")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(491),loading:"lazy"}})])])])]),a._v(" "),i("li",[i("p",[a._v("当一个线程完成任务时，它会从队列中取下一个任务来执行。")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(492),loading:"lazy"}})])]),a._v(" "),i("li",[i("p",[a._v("当一个线程空闲的时间超过keepAliveTime时，线程池会判断：")]),a._v(" "),i("ul",[i("li",[i("p",[a._v("当前运行线程数大于corePoolSize：空闲时间超时线程会被停掉")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(493),loading:"lazy"}})])]),a._v(" "),i("li",[i("p",[a._v("当前运行线程数小于等于corePoolSize：无动作（所以线程池的所有任务完成后，它最终会收缩到corePoolSize的大小。）")]),a._v(" "),i("p",[i("img",{staticClass:"lazy",attrs:{alt:"images","data-src":s(494),loading:"lazy"}})])])])])]),a._v(" "),i("p",[i("RouterLink",{attrs:{to:"/note/advance/juc/chapter06/verse04.html"}},[a._v("上一节")]),a._v(" "),i("RouterLink",{attrs:{to:"/note/advance/juc/chapter06/index.html"}},[a._v("回目录")]),a._v(" "),i("RouterLink",{attrs:{to:"/note/advance/juc/chapter06/verse06.html"}},[a._v("下一节")])],1)])}),[],!1,null,null,null);t.default=e.exports},484:function(a,t,s){a.exports=s.p+"assets/img/img007.d4342939.png"},485:function(a,t,s){a.exports=s.p+"assets/img/img011.c93883c3.png"},486:function(a,t,s){a.exports=s.p+"assets/img/img012.3e693b5e.png"},487:function(a,t,s){a.exports=s.p+"assets/img/img013.ce4cea25.png"},488:function(a,t,s){a.exports=s.p+"assets/img/img014.265d68cf.png"},489:function(a,t,s){a.exports=s.p+"assets/img/img015.579f52c9.png"},490:function(a,t,s){a.exports=s.p+"assets/img/img016.4120edf7.png"},491:function(a,t,s){a.exports=s.p+"assets/img/img017.a868915e.png"},492:function(a,t,s){a.exports=s.p+"assets/img/img018.ebaa260c.png"},493:function(a,t,s){a.exports=s.p+"assets/img/img019.f9baf9ac.png"},494:function(a,t,s){a.exports=s.p+"assets/img/img020.a3f35704.png"}}]);
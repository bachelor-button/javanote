(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{2365:function(a,s,t){"use strict";t.r(s);var e=t(21),n=Object(e.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"第二节-标记垃圾对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第二节-标记垃圾对象"}},[a._v("#")]),a._v(" 第二节 标记垃圾对象")]),a._v(" "),e("h2",{attrs:{id:"_1、引用计数法-不采用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、引用计数法-不采用"}},[a._v("#")]),a._v(" 1、引用计数法（不采用）")]),a._v(" "),e("p",[a._v("引用计数法是在对象每一次被引用时，都给这个对象专属的『引用计数器』+1。")]),a._v(" "),e("p",[a._v("当前引用被取消时，就给这个『引用计数器』-1。")]),a._v(" "),e("p",[a._v("当前『引用计数器』为零时，表示这个对象不再被引用了，需要让GC回收。")]),a._v(" "),e("p",[a._v("可是当对象之间存在交叉引用的时候，对象即使处于应该被回收的状态，也没法让『引用计数器』归零。")]),a._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[a._v("        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Member")]),a._v(" member01 "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Member")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Member")]),a._v(" member02 "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Member")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"images","data-src":t(525),loading:"lazy"}})]),a._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[a._v("        member01"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("setFriend")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("member02"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        member02"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("setFriend")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("member01"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"images","data-src":t(526),loading:"lazy"}})]),a._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[a._v("        member01 "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        member02 "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"images","data-src":t(527),loading:"lazy"}})]),a._v(" "),e("h2",{attrs:{id:"_2、gc-roots可达性分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、gc-roots可达性分析"}},[a._v("#")]),a._v(" 2、GC Roots可达性分析")]),a._v(" "),e("p",[a._v("核心原理：判断一个对象，是否存在从『堆外』到『堆内』的引用。")]),a._v(" "),e("p",[a._v("请看下面的例子：")]),a._v(" "),e("h3",{attrs:{id:"_1加载employee类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1加载employee类"}},[a._v("#")]),a._v(" ①加载Employee类")]),a._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Employee")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("final")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" SUBJECT "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Java"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"images","data-src":t(528),loading:"lazy"}})]),a._v(" "),e("h3",{attrs:{id:"_2创建employee对象并赋值给变量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2创建employee对象并赋值给变量"}},[a._v("#")]),a._v(" ②创建Employee对象并赋值给变量")]),a._v(" "),e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[a._v("    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("static")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[a._v("main")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v(" args"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 1.创建Employee对象，并赋值给employee变量")]),a._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Employee")]),a._v(" employee "),e("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Employee")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"images","data-src":t(529),loading:"lazy"}})]),a._v(" "),e("p",[e("RouterLink",{attrs:{to:"/note/advance/jvm/chapter08/verse01.html"}},[a._v("上一节")]),a._v(" "),e("RouterLink",{attrs:{to:"/note/advance/jvm/chapter08/index.html"}},[a._v("回目录")]),a._v(" "),e("RouterLink",{attrs:{to:"/note/advance/jvm/chapter08/verse03.html"}},[a._v("下一节")])],1)])}),[],!1,null,null,null);s.default=n.exports},525:function(a,s,t){a.exports=t.p+"assets/img/img020.63689421.png"},526:function(a,s,t){a.exports=t.p+"assets/img/img021.98c41539.png"},527:function(a,s,t){a.exports=t.p+"assets/img/img022.2aec3ae8.png"},528:function(a,s,t){a.exports=t.p+"assets/img/img023.23c833a9.png"},529:function(a,s,t){a.exports=t.p+"assets/img/img024.d25006ea.png"}}]);
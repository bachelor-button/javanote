<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>实验一 [重要]创建bean | Java全栈</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Java 基础, Java 部分源码, JVM, Spring, Spring Boot, Spring Cloud, 数据库原理, MySQL, ElasticSearch, Docker, Linux, 分布式, 中间件, Git">
    
    <link rel="preload" href="/javanote/assets/css/0.styles.1d83b9a0.css" as="style"><link rel="preload" href="/javanote/assets/js/app.4d8a0605.js" as="script"><link rel="preload" href="/javanote/assets/js/11.31b4bfe5.js" as="script"><link rel="preload" href="/javanote/assets/js/54.7d73666a.js" as="script"><link rel="prefetch" href="/javanote/assets/js/10.c191a387.js"><link rel="prefetch" href="/javanote/assets/js/100.f858324b.js"><link rel="prefetch" href="/javanote/assets/js/101.cf545769.js"><link rel="prefetch" href="/javanote/assets/js/102.70c05b3a.js"><link rel="prefetch" href="/javanote/assets/js/103.f1004525.js"><link rel="prefetch" href="/javanote/assets/js/104.0d76607f.js"><link rel="prefetch" href="/javanote/assets/js/105.1706f100.js"><link rel="prefetch" href="/javanote/assets/js/106.c2ff977c.js"><link rel="prefetch" href="/javanote/assets/js/107.5aede27e.js"><link rel="prefetch" href="/javanote/assets/js/108.8ceb754f.js"><link rel="prefetch" href="/javanote/assets/js/109.0921def7.js"><link rel="prefetch" href="/javanote/assets/js/110.1b5f3a78.js"><link rel="prefetch" href="/javanote/assets/js/111.60c4a726.js"><link rel="prefetch" href="/javanote/assets/js/112.a779216c.js"><link rel="prefetch" href="/javanote/assets/js/113.b5d94b79.js"><link rel="prefetch" href="/javanote/assets/js/114.c6f877f7.js"><link rel="prefetch" href="/javanote/assets/js/115.47ecb381.js"><link rel="prefetch" href="/javanote/assets/js/116.92ec84e7.js"><link rel="prefetch" href="/javanote/assets/js/117.e4829b5a.js"><link rel="prefetch" href="/javanote/assets/js/118.b23c1a98.js"><link rel="prefetch" href="/javanote/assets/js/119.b43f94dd.js"><link rel="prefetch" href="/javanote/assets/js/12.fa4003f9.js"><link rel="prefetch" href="/javanote/assets/js/120.f30ed6c6.js"><link rel="prefetch" href="/javanote/assets/js/121.b0022ef6.js"><link rel="prefetch" href="/javanote/assets/js/122.8fffcc78.js"><link rel="prefetch" href="/javanote/assets/js/123.e3fa7a42.js"><link rel="prefetch" href="/javanote/assets/js/124.58e10cb2.js"><link rel="prefetch" href="/javanote/assets/js/125.1b49d5f0.js"><link rel="prefetch" href="/javanote/assets/js/126.7f8e276b.js"><link rel="prefetch" href="/javanote/assets/js/127.000a6e84.js"><link rel="prefetch" href="/javanote/assets/js/128.18177328.js"><link rel="prefetch" href="/javanote/assets/js/129.0a2b7f4e.js"><link rel="prefetch" href="/javanote/assets/js/13.c51f2bed.js"><link rel="prefetch" href="/javanote/assets/js/130.31bfbbdd.js"><link rel="prefetch" href="/javanote/assets/js/131.dab5fd7f.js"><link rel="prefetch" href="/javanote/assets/js/132.34fb1d32.js"><link rel="prefetch" href="/javanote/assets/js/133.3cc3cb6c.js"><link rel="prefetch" href="/javanote/assets/js/134.8b0d230c.js"><link rel="prefetch" href="/javanote/assets/js/135.905e9937.js"><link rel="prefetch" href="/javanote/assets/js/136.23e19c54.js"><link rel="prefetch" href="/javanote/assets/js/137.3c091787.js"><link rel="prefetch" href="/javanote/assets/js/138.83313b98.js"><link rel="prefetch" href="/javanote/assets/js/139.c8e9d90b.js"><link rel="prefetch" href="/javanote/assets/js/14.8fe80835.js"><link rel="prefetch" href="/javanote/assets/js/140.de3bddcd.js"><link rel="prefetch" href="/javanote/assets/js/141.1575c6e3.js"><link rel="prefetch" href="/javanote/assets/js/142.a6471307.js"><link rel="prefetch" href="/javanote/assets/js/143.ad7eb666.js"><link rel="prefetch" href="/javanote/assets/js/144.c43ced04.js"><link rel="prefetch" href="/javanote/assets/js/145.633601ea.js"><link rel="prefetch" href="/javanote/assets/js/146.b65b7a43.js"><link rel="prefetch" href="/javanote/assets/js/147.f6ba557e.js"><link rel="prefetch" href="/javanote/assets/js/148.046226ae.js"><link rel="prefetch" href="/javanote/assets/js/149.0ad83751.js"><link rel="prefetch" href="/javanote/assets/js/15.414ac078.js"><link rel="prefetch" href="/javanote/assets/js/150.230e4d1c.js"><link rel="prefetch" href="/javanote/assets/js/151.905804f3.js"><link rel="prefetch" href="/javanote/assets/js/152.154b514a.js"><link rel="prefetch" href="/javanote/assets/js/153.37aa1b21.js"><link rel="prefetch" href="/javanote/assets/js/154.76fcd840.js"><link rel="prefetch" href="/javanote/assets/js/155.684e2d46.js"><link rel="prefetch" href="/javanote/assets/js/156.2288654a.js"><link rel="prefetch" href="/javanote/assets/js/157.9550ddf7.js"><link rel="prefetch" href="/javanote/assets/js/158.6f176501.js"><link rel="prefetch" href="/javanote/assets/js/159.38b45246.js"><link rel="prefetch" href="/javanote/assets/js/16.f6bcfda9.js"><link rel="prefetch" href="/javanote/assets/js/160.24484228.js"><link rel="prefetch" href="/javanote/assets/js/161.f8a53ea7.js"><link rel="prefetch" href="/javanote/assets/js/162.91a5d72d.js"><link rel="prefetch" href="/javanote/assets/js/163.2ad88c09.js"><link rel="prefetch" href="/javanote/assets/js/164.4cefc831.js"><link rel="prefetch" href="/javanote/assets/js/165.96d54d27.js"><link rel="prefetch" href="/javanote/assets/js/166.3ced3f05.js"><link rel="prefetch" href="/javanote/assets/js/167.9fd4dada.js"><link rel="prefetch" href="/javanote/assets/js/168.64063340.js"><link rel="prefetch" href="/javanote/assets/js/169.49eefc79.js"><link rel="prefetch" href="/javanote/assets/js/17.5ebaaa3f.js"><link rel="prefetch" href="/javanote/assets/js/170.3938afd5.js"><link rel="prefetch" href="/javanote/assets/js/171.5eb5c5a0.js"><link rel="prefetch" href="/javanote/assets/js/172.a9e33ea2.js"><link rel="prefetch" href="/javanote/assets/js/173.98e6d831.js"><link rel="prefetch" href="/javanote/assets/js/174.03448352.js"><link rel="prefetch" href="/javanote/assets/js/175.64340ac0.js"><link rel="prefetch" href="/javanote/assets/js/176.2dc52060.js"><link rel="prefetch" href="/javanote/assets/js/177.bd69843e.js"><link rel="prefetch" href="/javanote/assets/js/178.59341490.js"><link rel="prefetch" href="/javanote/assets/js/179.cc35c0a6.js"><link rel="prefetch" href="/javanote/assets/js/18.62d03701.js"><link rel="prefetch" href="/javanote/assets/js/180.11ae1e52.js"><link rel="prefetch" href="/javanote/assets/js/181.3e438e5d.js"><link rel="prefetch" href="/javanote/assets/js/182.c53a8efc.js"><link rel="prefetch" href="/javanote/assets/js/183.8b441dfb.js"><link rel="prefetch" href="/javanote/assets/js/184.d7f6c4f5.js"><link rel="prefetch" href="/javanote/assets/js/185.b439d0f4.js"><link rel="prefetch" href="/javanote/assets/js/186.b68e5585.js"><link rel="prefetch" href="/javanote/assets/js/187.56de8200.js"><link rel="prefetch" href="/javanote/assets/js/188.841fcdf2.js"><link rel="prefetch" href="/javanote/assets/js/189.be2262c2.js"><link rel="prefetch" href="/javanote/assets/js/19.0efb6573.js"><link rel="prefetch" href="/javanote/assets/js/190.40a63f47.js"><link rel="prefetch" href="/javanote/assets/js/191.a61a7c80.js"><link rel="prefetch" href="/javanote/assets/js/192.88507421.js"><link rel="prefetch" href="/javanote/assets/js/193.d0a95520.js"><link rel="prefetch" href="/javanote/assets/js/194.c66644e0.js"><link rel="prefetch" href="/javanote/assets/js/195.fdaceef8.js"><link rel="prefetch" href="/javanote/assets/js/196.85a1da29.js"><link rel="prefetch" href="/javanote/assets/js/197.a0b73b7e.js"><link rel="prefetch" href="/javanote/assets/js/198.c46de3af.js"><link rel="prefetch" href="/javanote/assets/js/199.86ad5ea9.js"><link rel="prefetch" href="/javanote/assets/js/2.8a34de3e.js"><link rel="prefetch" href="/javanote/assets/js/20.25232ae5.js"><link rel="prefetch" href="/javanote/assets/js/200.3d524295.js"><link rel="prefetch" href="/javanote/assets/js/201.2352b044.js"><link rel="prefetch" href="/javanote/assets/js/202.c96b8ae2.js"><link rel="prefetch" href="/javanote/assets/js/203.344e4887.js"><link rel="prefetch" href="/javanote/assets/js/204.cedde8a4.js"><link rel="prefetch" href="/javanote/assets/js/205.76202206.js"><link rel="prefetch" href="/javanote/assets/js/206.c4406aa6.js"><link rel="prefetch" href="/javanote/assets/js/207.8a27b698.js"><link rel="prefetch" href="/javanote/assets/js/208.59f5b615.js"><link rel="prefetch" href="/javanote/assets/js/209.fd4a6c64.js"><link rel="prefetch" href="/javanote/assets/js/21.d432caaa.js"><link rel="prefetch" href="/javanote/assets/js/210.b0e3a8d1.js"><link rel="prefetch" href="/javanote/assets/js/211.7cb84367.js"><link rel="prefetch" href="/javanote/assets/js/212.e743f232.js"><link rel="prefetch" href="/javanote/assets/js/213.d50db884.js"><link rel="prefetch" href="/javanote/assets/js/214.6da86c20.js"><link rel="prefetch" href="/javanote/assets/js/215.fd5aa565.js"><link rel="prefetch" href="/javanote/assets/js/216.e95bcc55.js"><link rel="prefetch" href="/javanote/assets/js/217.2231449c.js"><link rel="prefetch" href="/javanote/assets/js/218.b8330003.js"><link rel="prefetch" href="/javanote/assets/js/219.aa7e9cf0.js"><link rel="prefetch" href="/javanote/assets/js/22.53113347.js"><link rel="prefetch" href="/javanote/assets/js/220.9ff6e0e6.js"><link rel="prefetch" href="/javanote/assets/js/23.2238c07a.js"><link rel="prefetch" href="/javanote/assets/js/24.cb7d3039.js"><link rel="prefetch" href="/javanote/assets/js/25.b4eaea24.js"><link rel="prefetch" href="/javanote/assets/js/26.e42a49f7.js"><link rel="prefetch" href="/javanote/assets/js/27.e7587f1f.js"><link rel="prefetch" href="/javanote/assets/js/28.19eae749.js"><link rel="prefetch" href="/javanote/assets/js/29.9ddf7186.js"><link rel="prefetch" href="/javanote/assets/js/3.e91a84a2.js"><link rel="prefetch" href="/javanote/assets/js/30.a380d83f.js"><link rel="prefetch" href="/javanote/assets/js/31.02c44506.js"><link rel="prefetch" href="/javanote/assets/js/32.e4bff71a.js"><link rel="prefetch" href="/javanote/assets/js/33.e26b4f6b.js"><link rel="prefetch" href="/javanote/assets/js/34.187f65f5.js"><link rel="prefetch" href="/javanote/assets/js/35.6cd623a3.js"><link rel="prefetch" href="/javanote/assets/js/36.c018db78.js"><link rel="prefetch" href="/javanote/assets/js/37.fd665c05.js"><link rel="prefetch" href="/javanote/assets/js/38.123aa35e.js"><link rel="prefetch" href="/javanote/assets/js/39.58271e1f.js"><link rel="prefetch" href="/javanote/assets/js/4.953d09eb.js"><link rel="prefetch" href="/javanote/assets/js/40.d588f7b4.js"><link rel="prefetch" href="/javanote/assets/js/41.330ac4ba.js"><link rel="prefetch" href="/javanote/assets/js/42.4d2bcc61.js"><link rel="prefetch" href="/javanote/assets/js/43.e446c0f3.js"><link rel="prefetch" href="/javanote/assets/js/44.77abc34b.js"><link rel="prefetch" href="/javanote/assets/js/45.910e4aa5.js"><link rel="prefetch" href="/javanote/assets/js/46.7f8fd6bb.js"><link rel="prefetch" href="/javanote/assets/js/47.9e340085.js"><link rel="prefetch" href="/javanote/assets/js/48.b4c35e1e.js"><link rel="prefetch" href="/javanote/assets/js/49.807495b7.js"><link rel="prefetch" href="/javanote/assets/js/5.fe579469.js"><link rel="prefetch" href="/javanote/assets/js/50.71cfb288.js"><link rel="prefetch" href="/javanote/assets/js/51.8da13592.js"><link rel="prefetch" href="/javanote/assets/js/52.cf90a64f.js"><link rel="prefetch" href="/javanote/assets/js/53.c685fb7a.js"><link rel="prefetch" href="/javanote/assets/js/55.59497bd7.js"><link rel="prefetch" href="/javanote/assets/js/56.22cdda6e.js"><link rel="prefetch" href="/javanote/assets/js/57.36f6ee91.js"><link rel="prefetch" href="/javanote/assets/js/58.6655543d.js"><link rel="prefetch" href="/javanote/assets/js/59.1d073e32.js"><link rel="prefetch" href="/javanote/assets/js/6.1af208a0.js"><link rel="prefetch" href="/javanote/assets/js/60.f782c216.js"><link rel="prefetch" href="/javanote/assets/js/61.4f05bcba.js"><link rel="prefetch" href="/javanote/assets/js/62.d607ed0e.js"><link rel="prefetch" href="/javanote/assets/js/63.0d7a42e8.js"><link rel="prefetch" href="/javanote/assets/js/64.ce15498e.js"><link rel="prefetch" href="/javanote/assets/js/65.b9f31598.js"><link rel="prefetch" href="/javanote/assets/js/66.aeff3690.js"><link rel="prefetch" href="/javanote/assets/js/67.f6f59ffa.js"><link rel="prefetch" href="/javanote/assets/js/68.f875e4ca.js"><link rel="prefetch" href="/javanote/assets/js/69.d6512b6b.js"><link rel="prefetch" href="/javanote/assets/js/7.5739f4db.js"><link rel="prefetch" href="/javanote/assets/js/70.881dc1cf.js"><link rel="prefetch" href="/javanote/assets/js/71.263db750.js"><link rel="prefetch" href="/javanote/assets/js/72.58f08a97.js"><link rel="prefetch" href="/javanote/assets/js/73.df9399d4.js"><link rel="prefetch" href="/javanote/assets/js/74.1d6ddc56.js"><link rel="prefetch" href="/javanote/assets/js/75.fcb30922.js"><link rel="prefetch" href="/javanote/assets/js/76.46a74eb4.js"><link rel="prefetch" href="/javanote/assets/js/77.b5e7728c.js"><link rel="prefetch" href="/javanote/assets/js/78.fcc34355.js"><link rel="prefetch" href="/javanote/assets/js/79.9d5204da.js"><link rel="prefetch" href="/javanote/assets/js/8.26c83b6c.js"><link rel="prefetch" href="/javanote/assets/js/80.672a4f74.js"><link rel="prefetch" href="/javanote/assets/js/81.78acaf25.js"><link rel="prefetch" href="/javanote/assets/js/82.7755c8c3.js"><link rel="prefetch" href="/javanote/assets/js/83.9b495285.js"><link rel="prefetch" href="/javanote/assets/js/84.a1270bb3.js"><link rel="prefetch" href="/javanote/assets/js/85.64d4eb9a.js"><link rel="prefetch" href="/javanote/assets/js/86.9cd6604e.js"><link rel="prefetch" href="/javanote/assets/js/87.588e06ac.js"><link rel="prefetch" href="/javanote/assets/js/88.8dad582a.js"><link rel="prefetch" href="/javanote/assets/js/89.b19689ac.js"><link rel="prefetch" href="/javanote/assets/js/9.51e5d2e7.js"><link rel="prefetch" href="/javanote/assets/js/90.586b9559.js"><link rel="prefetch" href="/javanote/assets/js/91.c9188033.js"><link rel="prefetch" href="/javanote/assets/js/92.69a38839.js"><link rel="prefetch" href="/javanote/assets/js/93.f0c9bdcd.js"><link rel="prefetch" href="/javanote/assets/js/94.f8f6b855.js"><link rel="prefetch" href="/javanote/assets/js/95.a92c2c02.js"><link rel="prefetch" href="/javanote/assets/js/96.ab442531.js"><link rel="prefetch" href="/javanote/assets/js/97.8a60e627.js"><link rel="prefetch" href="/javanote/assets/js/98.3eed55eb.js"><link rel="prefetch" href="/javanote/assets/js/99.b9c138ea.js">
    <link rel="stylesheet" href="/javanote/assets/css/0.styles.1d83b9a0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/javanote/" class="home-link router-link-active"><!----> <span class="site-name">Java全栈</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/basic/java/day01/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/linux/background/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/mysql/mysql-basic/" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/web/WEBday01_HTML-CSS/" class="nav-link">
  web
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="高级" class="dropdown-title"><span class="title">高级</span> <span class="arrow down"></span></button> <button type="button" aria-label="高级" class="mobile-dropdown-title"><span class="title">高级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/advance/juc/chapter01/" class="nav-link">
  JUC
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/advance/jvm/chapter01/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/advance/mysql/chapter01/" class="nav-link">
  MYSQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/rabbitmq/day01/" class="nav-link">
  rabbitmq
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/elasticsearch/day01/" class="nav-link">
  elasticsearch
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/nginx/" class="nav-link">
  nginx
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><span class="title">微服务</span> <span class="arrow down"></span></button> <button type="button" aria-label="微服务" class="mobile-dropdown-title"><span class="title">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/springboot/" class="nav-link">
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/springcloud/day01/" class="nav-link">
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/distributed-transaction/" class="nav-link">
  分布式事务
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/tools/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/tools/maven/maven-overview/" class="nav-link">
  maven
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ssm" class="dropdown-title"><span class="title">ssm</span> <span class="arrow down"></span></button> <button type="button" aria-label="ssm" class="mobile-dropdown-title"><span class="title">ssm</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/mybatis/preface/" class="nav-link">
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/spring/AOP-aspect-oriented-programming/agency-model/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/springmvc/basic-function/" class="nav-link">
  springmvc
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/others/cryptography/" class="nav-link">
  密码学
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/basic/java/day01/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/linux/background/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/mysql/mysql-basic/" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/web/WEBday01_HTML-CSS/" class="nav-link">
  web
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="高级" class="dropdown-title"><span class="title">高级</span> <span class="arrow down"></span></button> <button type="button" aria-label="高级" class="mobile-dropdown-title"><span class="title">高级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/advance/juc/chapter01/" class="nav-link">
  JUC
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/advance/jvm/chapter01/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/advance/mysql/chapter01/" class="nav-link">
  MYSQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/rabbitmq/day01/" class="nav-link">
  rabbitmq
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/elasticsearch/day01/" class="nav-link">
  elasticsearch
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/nginx/" class="nav-link">
  nginx
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><span class="title">微服务</span> <span class="arrow down"></span></button> <button type="button" aria-label="微服务" class="mobile-dropdown-title"><span class="title">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/springboot/" class="nav-link">
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/springcloud/day01/" class="nav-link">
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/distributed-transaction/" class="nav-link">
  分布式事务
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/tools/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/tools/maven/maven-overview/" class="nav-link">
  maven
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ssm" class="dropdown-title"><span class="title">ssm</span> <span class="arrow down"></span></button> <button type="button" aria-label="ssm" class="mobile-dropdown-title"><span class="title">ssm</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/mybatis/preface/" class="nav-link">
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/spring/AOP-aspect-oriented-programming/agency-model/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/springmvc/basic-function/" class="nav-link">
  springmvc
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/others/cryptography/" class="nav-link">
  密码学
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mybatis</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>spring</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/javanote/note/ssm/spring/AOP-aspect-oriented-programming/agency-model/" class="sidebar-link">第二节 代理模式</a></li><li><a href="/javanote/note/ssm/spring/AOP-aspect-oriented-programming/annotation-based-AOP/" class="sidebar-link">基于注解的AOP</a></li><li><a href="/javanote/note/ssm/spring/AOP-aspect-oriented-programming/AOP-terminology/" class="sidebar-link">第四节 AOP术语</a></li><li><a href="/javanote/note/ssm/spring/AOP-aspect-oriented-programming/scene-setting/" class="sidebar-link">第一节 情景设定</a></li><li><a href="/javanote/note/ssm/spring/AOP-aspect-oriented-programming/the-impact-of-AOP-on-obtaining-beans/" class="sidebar-link">第七节 AOP对获取bean的影响</a></li><li><a href="/javanote/note/ssm/spring/AOP-aspect-oriented-programming/XML-based-AOP/" class="sidebar-link">第六节 基于XML的AOP[了解]</a></li><li><a href="/javanote/note/ssm/spring/declarative-transaction/annotation-based-declarative-transaction/" class="sidebar-link">第三节 基于注解的声明式事务</a></li><li><a href="/javanote/note/ssm/spring/declarative-transaction/declarative-transaction/" class="sidebar-link">实验一 准备工作</a></li><li><a href="/javanote/note/ssm/spring/declarative-transaction/declarative-transaction-concept/" class="sidebar-link">第二节 声明式事务概念</a></li><li><a href="/javanote/note/ssm/spring/declarative-transaction/JDBCTemplate/" class="sidebar-link">第一节 JDBCTemplate</a></li><li><a href="/javanote/note/ssm/spring/declarative-transaction/XML-based-declarative-transaction/" class="sidebar-link">第四节 基于XML的声明式事务</a></li><li><a href="/javanote/note/ssm/spring/IOC-container/beans-based-on-annotations/" class="sidebar-link">第一个实验 [重要]标记与扫描</a></li><li><a href="/javanote/note/ssm/spring/IOC-container/Introduction-to-spring/" class="sidebar-link">第一节 Spring简介</a></li><li><a href="/javanote/note/ssm/spring/IOC-container/IOC-container-concept/" class="sidebar-link">第二节 IOC容器概念</a></li><li><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/" aria-current="page" class="active sidebar-link">实验一 [重要]创建bean</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、实验目标和思路" class="sidebar-link">1、实验目标和思路</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、创建maven-module" class="sidebar-link">2、创建Maven Module</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、创建组件类" class="sidebar-link">3、创建组件类</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_4、创建-spring-配置文件" class="sidebar-link">4、创建 Spring 配置文件</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_5、配置组件" class="sidebar-link">5、配置组件</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_6、创建测试类" class="sidebar-link">6、创建测试类</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_7、无参构造器" class="sidebar-link">7、无参构造器</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_8、用ioc容器创建对象和自己建区别" class="sidebar-link">8、用IOC容器创建对象和自己建区别</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、方式一-根据id获取" class="sidebar-link">1、方式一：根据id获取</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、方式二-根据类型获取" class="sidebar-link">2、方式二：根据类型获取</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、给组件类添加一个属性" class="sidebar-link">1、给组件类添加一个属性</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、在配置时给属性指定值" class="sidebar-link">2、在配置时给属性指定值</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、测试" class="sidebar-link">3、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、声明新的组件类" class="sidebar-link">1、声明新的组件类</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、原组件引用新组件" class="sidebar-link">2、原组件引用新组件</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、配置新组件的-bean" class="sidebar-link">3、配置新组件的 bean</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_4、在原组件的-bean-中引用新组件的-bean" class="sidebar-link">4、在原组件的 bean 中引用新组件的 bean</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_5、测试" class="sidebar-link">5、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_6、易错点" class="sidebar-link">6、易错点</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、重新配置原组件" class="sidebar-link">1、重新配置原组件</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、测试" class="sidebar-link">2、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、加入依赖" class="sidebar-link">1、加入依赖</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、创建外部属性文件" class="sidebar-link">2、创建外部属性文件</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、引入" class="sidebar-link">3、引入</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_4、使用" class="sidebar-link">4、使用</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_5、测试-2" class="sidebar-link">5、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、配置关联对象的-bean" class="sidebar-link">1、配置关联对象的 bean</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、装配关联对象并赋值级联属性" class="sidebar-link">2、装配关联对象并赋值级联属性</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、测试-2" class="sidebar-link">3、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、声明组件类" class="sidebar-link">1、声明组件类</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、配置" class="sidebar-link">2、配置</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、测试-3" class="sidebar-link">3、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_4、补充" class="sidebar-link">4、补充</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、声明一个类用于测试" class="sidebar-link">1、声明一个类用于测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、字面量" class="sidebar-link">2、字面量</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、null值" class="sidebar-link">3、null值</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_4、xml实体" class="sidebar-link">4、XML实体</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_5、cdata节" class="sidebar-link">5、CDATA节</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、配置" class="sidebar-link">1、配置</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、测试-2" class="sidebar-link">2、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、给组件类添加属性" class="sidebar-link">1、给组件类添加属性</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、配置-2" class="sidebar-link">2、配置</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、测试-4" class="sidebar-link">3、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_4、其他变化形式" class="sidebar-link">4、其他变化形式</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、声明组件类-2" class="sidebar-link">1、声明组件类</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、配置-3" class="sidebar-link">2、配置</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、测试-5" class="sidebar-link">3、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、配置-2" class="sidebar-link">1、配置</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、测试-3" class="sidebar-link">2、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、简介" class="sidebar-link">1、简介</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、实现factorybean接口" class="sidebar-link">2、实现FactoryBean接口</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、配置bean" class="sidebar-link">3、配置bean</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_4、测试获取bean" class="sidebar-link">4、测试获取bean</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、概念" class="sidebar-link">1、概念</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、配置-4" class="sidebar-link">2、配置</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、测试-6" class="sidebar-link">3、测试</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_1、bean的生命周期清单" class="sidebar-link">1、bean的生命周期清单</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_2、指定bean的初始化方法和销毁方法" class="sidebar-link">2、指定bean的初始化方法和销毁方法</a></li><li class="sidebar-sub-header"><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/#_3、bean的后置处理器" class="sidebar-link">3、bean的后置处理器</a></li></ul></li><li><a href="/javanote/note/ssm/spring/spring5-new-features/JSP305/" class="sidebar-link">JSR305标准相关注解</a></li><li><a href="/javanote/note/ssm/spring/spring5-new-features/junit5/" class="sidebar-link">第二节 整合junit5</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>springmvc</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="实验一-重要-创建bean"><a href="#实验一-重要-创建bean" class="header-anchor">#</a> 实验一 [重要]创建bean</h1> <h2 id="_1、实验目标和思路"><a href="#_1、实验目标和思路" class="header-anchor">#</a> 1、实验目标和思路</h2> <h3 id="_1目标"><a href="#_1目标" class="header-anchor">#</a> ①目标</h3> <p>由 Spring 的 IOC 容器创建类的对象。</p> <h3 id="_2思路"><a href="#_2思路" class="header-anchor">#</a> ②思路</h3> <p><img alt="images" data-src="/javanote/assets/img/img006.c8bae859.png" loading="lazy" class="lazy"></p> <h2 id="_2、创建maven-module"><a href="#_2、创建maven-module" class="header-anchor">#</a> 2、创建Maven Module</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 基于Maven依赖传递性，导入spring-context依赖即可导入当前所需所有jar包 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- junit测试 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img alt="images" data-src="/javanote/assets/img/img005.5081c6d5.png" loading="lazy" class="lazy"></p> <h2 id="_3、创建组件类"><a href="#_3、创建组件类" class="header-anchor">#</a> 3、创建组件类</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>ioc<span class="token punctuation">.</span>component</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HappyComponent</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;component do work ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4、创建-spring-配置文件"><a href="#_4、创建-spring-配置文件" class="header-anchor">#</a> 4、创建 Spring 配置文件</h2> <p><img alt="images" data-src="/javanote/assets/img/img007.db397db9.png" loading="lazy" class="lazy"></p> <p><img alt="images" data-src="data:image/png;base64,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" loading="lazy" class="lazy"></p> <h2 id="_5、配置组件"><a href="#_5、配置组件" class="header-anchor">#</a> 5、配置组件</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验一 [重要]创建bean --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyComponent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><ul><li>bean标签：通过配置bean标签告诉IOC容器需要创建对象的组件是什么</li> <li>id属性：bean的唯一标识</li> <li>class属性：组件类的全类名</li></ul> <h2 id="_6、创建测试类"><a href="#_6、创建测试类" class="header-anchor">#</a> 6、创建测试类</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IOCTest</span> <span class="token punctuation">{</span>

    <span class="token comment">// 创建 IOC 容器对象，为便于其他实验方法使用声明为成员变量</span>
    <span class="token keyword">private</span> <span class="token class-name">ApplicationContext</span> iocContainer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;applicationContext.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 从 IOC 容器对象中获取bean，也就是组件对象</span>
        <span class="token class-name">HappyComponent</span> happyComponent <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HappyComponent</span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;happyComponent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        happyComponent<span class="token punctuation">.</span><span class="token function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_7、无参构造器"><a href="#_7、无参构造器" class="header-anchor">#</a> 7、无参构造器</h2> <p>Spring 底层默认通过反射技术调用组件类的无参构造器来创建组件对象，这一点需要注意。如果在需要无参构造器时，没有无参构造器，则会抛出下面的异常：</p> <blockquote><p>org.springframework.beans.factory. BeanCreationException: Error creating bean with name 'happyComponent1' defined in class path resource [applicationContext.xml]: Instantiation of bean failed;</p> <p>nested exception is org.springframework.beans. BeanInstantiationException: Failed to instantiate [com.atguigu.ioc.component. HappyComponent]: No default constructor found;</p> <p>nested exception is java.lang. NoSuchMethodException: <code>com.atguigu.ioc.component. HappyComponent.&lt;init&gt;()</code></p></blockquote> <p>所以对一个JavaBean来说，必须存在的，特别是在框架中。</p> <h2 id="_8、用ioc容器创建对象和自己建区别"><a href="#_8、用ioc容器创建对象和自己建区别" class="header-anchor">#</a> 8、用IOC容器创建对象和自己建区别</h2> <p><img alt="images" data-src="/javanote/assets/img/img013.a84c2416.png" loading="lazy" class="lazy"></p> <p>在Spring环境下能够享受到的所有福利，都必须通过 IOC 容器附加到组件类上，所以随着我们在 Spring 中学习的功能越来越多，IOC 容器创建的组件类的对象就会比自己 new 的对象强大的越来越多。</p> <h1 id="实验二-重要-获取bean"><a href="#实验二-重要-获取bean" class="header-anchor">#</a> 实验二 [重要]获取bean</h1> <h2 id="_1、方式一-根据id获取"><a href="#_1、方式一-根据id获取" class="header-anchor">#</a> 1、方式一：根据id获取</h2> <p>由于 id 属性指定了 bean 的唯一标识，所以根据 bean 标签的 id 属性可以精确获取到一个组件对象。上个实验中我们使用的就是这种方式。</p> <h2 id="_2、方式二-根据类型获取"><a href="#_2、方式二-根据类型获取" class="header-anchor">#</a> 2、方式二：根据类型获取</h2> <h3 id="_1指定类型的-bean-唯一"><a href="#_1指定类型的-bean-唯一" class="header-anchor">#</a> ①指定类型的 bean 唯一</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment02</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">HappyComponent</span> component <span class="token operator">=</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">HappyComponent</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    component<span class="token punctuation">.</span><span class="token function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2指令类型的-bean-不唯一"><a href="#_2指令类型的-bean-不唯一" class="header-anchor">#</a> ②指令类型的 bean 不唯一</h3> <p>相同类型的 bean 在IOC容器中一共配置了两个：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验一 [重要]创建bean --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyComponent<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 实验二 [重要]获取bean --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyComponent2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>根据类型获取时会抛出异常：</p> <blockquote><p>org.springframework.beans.factory. NoUniqueBeanDefinitionException: No qualifying bean of type 'com.atguigu.ioc.component. HappyComponent' available: expected single matching bean but found 2: happyComponent, happyComponent2</p></blockquote> <h3 id="_3思考"><a href="#_3思考" class="header-anchor">#</a> ③思考</h3> <p>如果组件类实现了接口，根据接口类型可以获取 bean 吗？</p> <blockquote><p>可以，前提是bean唯一</p></blockquote> <p>如果一个接口有多个实现类，这些实现类都配置了 bean，根据接口类型可以获取 bean 吗？</p> <blockquote><p>不行，因为bean不唯一</p></blockquote> <h3 id="_4结论"><a href="#_4结论" class="header-anchor">#</a> ④结论</h3> <p>根据类型来获取bean时，在满足bean唯一性的前提下，其实只是看：『对象 instanceof 指定的类型』的返回结果，只要返回的是true就可以认定为和类型匹配，能够获取到。</p> <p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment01.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment03.html">下一个实验</a></p> <h1 id="实验三-重要-给bean的属性赋值-setter注入"><a href="#实验三-重要-给bean的属性赋值-setter注入" class="header-anchor">#</a> 实验三 [重要]给bean的属性赋值：setter注入</h1> <h2 id="_1、给组件类添加一个属性"><a href="#_1、给组件类添加一个属性" class="header-anchor">#</a> 1、给组件类添加一个属性</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HappyComponent</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> componentName<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getComponentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> componentName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setComponentName</span><span class="token punctuation">(</span><span class="token class-name">String</span> componentName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>componentName <span class="token operator">=</span> componentName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doWork</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;component do work ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2、在配置时给属性指定值"><a href="#_2、在配置时给属性指定值" class="header-anchor">#</a> 2、在配置时给属性指定值</h2> <p>通过property标签配置的属性值会通过setXxx()方法注入，大家可以通过debug方式验证一下</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验三 [重要]给bean的属性赋值：setter注入 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyComponent3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- property标签：通过组件类的setXxx()方法给组件对象设置属性 --&gt;</span>
    <span class="token comment">&lt;!-- name属性：指定属性名（这个属性名是getXxx()、setXxx()方法定义的，和成员变量无关） --&gt;</span>
    <span class="token comment">&lt;!-- value属性：指定属性值 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>componentName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>veryHappy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_3、测试"><a href="#_3、测试" class="header-anchor">#</a> 3、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment03</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">HappyComponent</span> happyComponent3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HappyComponent</span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;happyComponent3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> componentName <span class="token operator">=</span> happyComponent3<span class="token punctuation">.</span><span class="token function">getComponentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;componentName = &quot;</span> <span class="token operator">+</span> componentName<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment02.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment04.html">下一个实验</a></p> <h1 id="实验四-重要-给bean的属性赋值-引用外部已声明的bean"><a href="#实验四-重要-给bean的属性赋值-引用外部已声明的bean" class="header-anchor">#</a> 实验四 [重要]给bean的属性赋值：引用外部已声明的bean</h1> <h2 id="_1、声明新的组件类"><a href="#_1、声明新的组件类" class="header-anchor">#</a> 1、声明新的组件类</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HappyMachine</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> machineName<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMachineName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> machineName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMachineName</span><span class="token punctuation">(</span><span class="token class-name">String</span> machineName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>machineName <span class="token operator">=</span> machineName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2、原组件引用新组件"><a href="#_2、原组件引用新组件" class="header-anchor">#</a> 2、原组件引用新组件</h2> <p><img alt="images" data-src="data:image/png;base64,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" loading="lazy" class="lazy"></p> <h2 id="_3、配置新组件的-bean"><a href="#_3、配置新组件的-bean" class="header-anchor">#</a> 3、配置新组件的 bean</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    &lt;property name=&quot;machineName&quot; value=&quot;makeHappy&quot;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_4、在原组件的-bean-中引用新组件的-bean"><a href="#_4、在原组件的-bean-中引用新组件的-bean" class="header-anchor">#</a> 4、在原组件的 bean 中引用新组件的 bean</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyComponent4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ref 属性：通过 bean 的 id 引用另一个 bean --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>这个操作在 IDEA 中有提示：</p> <p><img alt="images" data-src="/javanote/assets/img/img010.ae0329dd.png" loading="lazy" class="lazy"></p> <h2 id="_5、测试"><a href="#_5、测试" class="header-anchor">#</a> 5、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment04</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">HappyComponent</span> happyComponent4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HappyComponent</span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;happyComponent4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HappyMachine</span> happyMachine <span class="token operator">=</span> happyComponent4<span class="token punctuation">.</span><span class="token function">getHappyMachine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> machineName <span class="token operator">=</span> happyMachine<span class="token punctuation">.</span><span class="token function">getMachineName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;machineName = &quot;</span> <span class="token operator">+</span> machineName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_6、易错点"><a href="#_6、易错点" class="header-anchor">#</a> 6、易错点</h2> <blockquote><p>如果错把ref属性写成了value属性，会抛出异常：
Caused by: java.lang. IllegalStateException: Cannot convert value of type 'java.lang. String' to required type 'com.atguigu.ioc.component. HappyMachine' for property 'happyMachine': no matching editors or conversion strategy found
意思是不能把String类型转换成我们要的HappyMachine类型
说明我们使用value属性时，Spring只把这个属性看做一个普通的字符串，不会认为这是一个bean的id，更不会根据它去找到bean来赋值</p></blockquote> <p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment03.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment05.html">下一个实验</a></p> <h1 id="实验五-重要-给bean的属性赋值-内部bean"><a href="#实验五-重要-给bean的属性赋值-内部bean" class="header-anchor">#</a> 实验五 [重要]给bean的属性赋值：内部bean</h1> <h2 id="_1、重新配置原组件"><a href="#_1、重新配置原组件" class="header-anchor">#</a> 1、重新配置原组件</h2> <p>在bean里面配置的bean就是内部bean，内部bean只能在当前bean内部使用，在其他地方不能使用。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验五 [重要]给bean的属性赋值：内部bean --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyComponent5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 在一个 bean 中再声明一个 bean 就是内部 bean --&gt;</span>
        <span class="token comment">&lt;!-- 内部 bean 可以直接用于给属性赋值，可以省略 id 属性 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>machineName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>makeHappy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_2、测试"><a href="#_2、测试" class="header-anchor">#</a> 2、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment04</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">HappyComponent</span> happyComponent4 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HappyComponent</span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;happyComponent4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HappyMachine</span> happyMachine <span class="token operator">=</span> happyComponent4<span class="token punctuation">.</span><span class="token function">getHappyMachine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> machineName <span class="token operator">=</span> happyMachine<span class="token punctuation">.</span><span class="token function">getMachineName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;machineName = &quot;</span> <span class="token operator">+</span> machineName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment04.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment06.html">下一个实验</a></p> <h1 id="实验六-重要-给bean的属性赋值-引入外部属性文件"><a href="#实验六-重要-给bean的属性赋值-引入外部属性文件" class="header-anchor">#</a> 实验六 [重要]给bean的属性赋值：引入外部属性文件</h1> <h2 id="_1、加入依赖"><a href="#_1、加入依赖" class="header-anchor">#</a> 1、加入依赖</h2> <div class="language-xml extra-class"><pre class="language-xml"><code>        <span class="token comment">&lt;!-- MySQL驱动 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 数据源 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.31<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_2、创建外部属性文件"><a href="#_2、创建外部属性文件" class="header-anchor">#</a> 2、创建外部属性文件</h2> <p><img alt="images" data-src="data:image/png;base64,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" loading="lazy" class="lazy"></p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token attr-name">jdbc.user</span><span class="token punctuation">=</span><span class="token attr-value">root</span>
<span class="token attr-name">jdbc.password</span><span class="token punctuation">=</span><span class="token attr-value">atguigu</span>
<span class="token attr-name">jdbc.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://192.168.198.100:3306/mybatis-example</span>
<span class="token attr-name">jdbc.driver</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.jdbc.Driver</span>
</code></pre></div><h2 id="_3、引入"><a href="#_3、引入" class="header-anchor">#</a> 3、引入</h2> <div class="language-xml extra-class"><pre class="language-xml"><code>    <span class="token comment">&lt;!-- 引入外部属性文件 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>classpath:jdbc.properties<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h2 id="_4、使用"><a href="#_4、使用" class="header-anchor">#</a> 4、使用</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验六 [重要]给bean的属性赋值：引入外部属性文件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>druidDataSource<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.url}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driverClassName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.driver}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.user}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${jdbc.password}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_5、测试-2"><a href="#_5、测试-2" class="header-anchor">#</a> 5、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment06</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
    <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;connection = &quot;</span> <span class="token operator">+</span> connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment05.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment07.html">下一个实验</a></p> <h1 id="实验七-给bean的属性赋值-级联属性赋值"><a href="#实验七-给bean的属性赋值-级联属性赋值" class="header-anchor">#</a> 实验七 给bean的属性赋值：级联属性赋值</h1> <h2 id="_1、配置关联对象的-bean"><a href="#_1、配置关联对象的-bean" class="header-anchor">#</a> 1、配置关联对象的 bean</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h2 id="_2、装配关联对象并赋值级联属性"><a href="#_2、装配关联对象并赋值级联属性" class="header-anchor">#</a> 2、装配关联对象并赋值级联属性</h2> <p>关联对象：happyMachine</p> <p>级联属性：happyMachine.machineName</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验七 给bean的属性赋值：级联属性赋值 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyComponent6<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyComponent<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 装配关联对象 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine2<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 对HappyComponent来说，happyMachine的machineName属性就是级联属性 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine.machineName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cascadeValue<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_3、测试-2"><a href="#_3、测试-2" class="header-anchor">#</a> 3、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment07</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">HappyComponent</span> happyComponent6 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HappyComponent</span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;happyComponent6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> machineName <span class="token operator">=</span> happyComponent6<span class="token punctuation">.</span><span class="token function">getHappyMachine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getMachineName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;machineName = &quot;</span> <span class="token operator">+</span> machineName<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment06.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment08.html">下一个实验</a></p> <h1 id="实验八-给bean的属性赋值-构造器注入"><a href="#实验八-给bean的属性赋值-构造器注入" class="header-anchor">#</a> 实验八 给bean的属性赋值：构造器注入</h1> <h2 id="_1、声明组件类"><a href="#_1、声明组件类" class="header-anchor">#</a> 1、声明组件类</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>ioc<span class="token punctuation">.</span>component</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HappyTeam</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> teamName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> memberCount<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Double</span> memberSalary<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getTeamName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> teamName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setTeamName</span><span class="token punctuation">(</span><span class="token class-name">String</span> teamName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>teamName <span class="token operator">=</span> teamName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getMemberCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> memberCount<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMemberCount</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> memberCount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>memberCount <span class="token operator">=</span> memberCount<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Double</span> <span class="token function">getMemberSalary</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> memberSalary<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMemberSalary</span><span class="token punctuation">(</span><span class="token class-name">Double</span> memberSalary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>memberSalary <span class="token operator">=</span> memberSalary<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;HappyTeam{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;teamName='&quot;</span> <span class="token operator">+</span> teamName <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">&quot;, memberCount=&quot;</span> <span class="token operator">+</span> memberCount <span class="token operator">+</span>
                <span class="token string">&quot;, memberSalary=&quot;</span> <span class="token operator">+</span> memberSalary <span class="token operator">+</span>
                <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">HappyTeam</span><span class="token punctuation">(</span><span class="token class-name">String</span> teamName<span class="token punctuation">,</span> <span class="token class-name">Integer</span> memberCount<span class="token punctuation">,</span> <span class="token class-name">Double</span> memberSalary<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>teamName <span class="token operator">=</span> teamName<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>memberCount <span class="token operator">=</span> memberCount<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>memberSalary <span class="token operator">=</span> memberSalary<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">HappyTeam</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2、配置"><a href="#_2、配置" class="header-anchor">#</a> 2、配置</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验八 给bean的属性赋值：构造器注入 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyTeam<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyTeam<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyCorps<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1000.55<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_3、测试-3"><a href="#_3、测试-3" class="header-anchor">#</a> 3、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment08</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">HappyTeam</span> happyTeam <span class="token operator">=</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">HappyTeam</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;happyTeam = &quot;</span> <span class="token operator">+</span> happyTeam<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4、补充"><a href="#_4、补充" class="header-anchor">#</a> 4、补充</h2> <p>constructor-arg标签还有两个属性可以进一步描述构造器参数：</p> <ul><li>index属性：指定参数所在位置的索引（从0开始）</li> <li>name属性：指定参数名</li></ul> <p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment07.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment09.html">下一个实验</a></p> <h1 id="实验九-给bean的属性赋值-特殊值处理"><a href="#实验九-给bean的属性赋值-特殊值处理" class="header-anchor">#</a> 实验九 给bean的属性赋值：特殊值处理</h1> <h2 id="_1、声明一个类用于测试"><a href="#_1、声明一个类用于测试" class="header-anchor">#</a> 1、声明一个类用于测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>ioc<span class="token punctuation">.</span>component</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PropValue</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> commonValue<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> expression<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getCommonValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> commonValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCommonValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> commonValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>commonValue <span class="token operator">=</span> commonValue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getExpression</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> expression<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setExpression</span><span class="token punctuation">(</span><span class="token class-name">String</span> expression<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>expression <span class="token operator">=</span> expression<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;PropValue{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;commonValue='&quot;</span> <span class="token operator">+</span> commonValue <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">&quot;, expression='&quot;</span> <span class="token operator">+</span> expression <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">PropValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> commonValue<span class="token punctuation">,</span> <span class="token class-name">String</span> expression<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>commonValue <span class="token operator">=</span> commonValue<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>expression <span class="token operator">=</span> expression<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">PropValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2、字面量"><a href="#_2、字面量" class="header-anchor">#</a> 2、字面量</h2> <h3 id="_1用java代码举例说明"><a href="#_1用java代码举例说明" class="header-anchor">#</a> ①用Java代码举例说明</h3> <p>字面量是相对于变量来说的。看下面的代码：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre></div><p>声明一个变量a，初始化为10，此时a就不代表字母a了，而是作为一个变量的名字。当我们引用a的时候，我们实际上拿到的值是10。</p> <p>而如果a是带引号的：'a'，那么它现在不是一个变量，它就是代表a这个字母本身，这就是字面量。所以字面量没有引申含义，就是我们看到的这个数据本身。</p> <h3 id="_2spring配置文件中举例"><a href="#_2spring配置文件中举例" class="header-anchor">#</a> ②Spring配置文件中举例</h3> <h4 id="_1-字面量举例"><a href="#_1-字面量举例" class="header-anchor">#</a> [1]字面量举例</h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 使用value属性给bean的属性赋值时，Spring会把value属性的值看做字面量 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commonValue<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hello<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h4 id="_2-类似变量举例"><a href="#_2-类似变量举例" class="header-anchor">#</a> [2]类似变量举例</h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 使用ref属性给bean的属性复制是，Spring会把ref属性的值作为一个bean的id来处理 --&gt;</span>
<span class="token comment">&lt;!-- 此时ref属性的值就不是一个普通的字符串了，它应该是一个bean的id --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h2 id="_3、null值"><a href="#_3、null值" class="header-anchor">#</a> 3、null值</h2> <div class="language-xml extra-class"><pre class="language-xml"><code>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commonValue<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- null标签：将一个属性值明确设置为null --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>null</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_4、xml实体"><a href="#_4、xml实体" class="header-anchor">#</a> 4、XML实体</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验九 给bean的属性赋值：特殊值处理 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>propValue<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.PropValue<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 小于号在XML文档中用来定义标签的开始，不能随便使用 --&gt;</span>
    <span class="token comment">&lt;!-- 解决方案一：使用XML实体来代替 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>expression<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a <span class="token entity named-entity" title="&lt;">&amp;lt;</span> b<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_5、cdata节"><a href="#_5、cdata节" class="header-anchor">#</a> 5、CDATA节</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验九 给bean的属性赋值：特殊值处理 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>propValue<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.PropValue<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>expression<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 解决方案二：使用CDATA节 --&gt;</span>
        <span class="token comment">&lt;!-- CDATA中的C代表Character，是文本、字符的含义，CDATA就表示纯文本数据 --&gt;</span>
        <span class="token comment">&lt;!-- XML解析器看到CDATA节就知道这里是纯文本，就不会当作XML标签或属性来解析 --&gt;</span>
        <span class="token comment">&lt;!-- 所以CDATA节中写什么符号都随意 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span><span class="token cdata">&lt;![CDATA[a &lt; b]]&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment08.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment10.html">下一个实验</a></p> <h1 id="实验十-给bean的属性赋值-使用p名称空间"><a href="#实验十-给bean的属性赋值-使用p名称空间" class="header-anchor">#</a> 实验十 给bean的属性赋值：使用p名称空间</h1> <h2 id="_1、配置"><a href="#_1、配置" class="header-anchor">#</a> 1、配置</h2> <p>使用 p 名称空间的方式可以省略子标签 property，将组件属性的设置作为 bean 标签的属性来完成。</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验十 给bean的属性赋值：使用p名称空间 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine3<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyMachine<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name"><span class="token namespace">p:</span>machineName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goodMachine<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>使用 p 名称空间需要导入相关的 XML 约束，在 IDEA 的协助下导入即可：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>p</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/p<span class="token punctuation">&quot;</span></span>
       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>具体操作时，输入p: 稍微等一下，等IDEA弹出下面的提示：</p> <p><img alt="images" data-src="/javanote/assets/img/img014.80da0791.png" loading="lazy" class="lazy"></p> <p>按Alt+Enter即可导入。</p> <h2 id="_2、测试-2"><a href="#_2、测试-2" class="header-anchor">#</a> 2、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment10</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">HappyMachine</span> happyMachine3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HappyMachine</span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;happyMachine3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> machineName <span class="token operator">=</span> happyMachine3<span class="token punctuation">.</span><span class="token function">getMachineName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;machineName = &quot;</span> <span class="token operator">+</span> machineName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment09.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment11.html">下一个实验</a></p> <h1 id="实验十一-给bean的属性赋值-集合属性"><a href="#实验十一-给bean的属性赋值-集合属性" class="header-anchor">#</a> 实验十一 给bean的属性赋值：集合属性</h1> <h2 id="_1、给组件类添加属性"><a href="#_1、给组件类添加属性" class="header-anchor">#</a> 1、给组件类添加属性</h2> <p><img alt="images" data-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAREAAAFECAIAAACPtZ2dAAAgFklEQVR42u2dbYxdxX3GZ3ftxeZ111BC1JQIWC8rkm1kGykYSqrWLq2Nq1oqi6pWrYlod5vwotolH0jrtKpL0w/gVRMI8rb5sEmlVnU/gGqzjSNj1DRQ2thJumm02NemSYNCSGANJJj4Zbf33nPvOfPyn5kz5563Oef5fVjtPfecOXPmzHNnzpz5P9O3vLzMAACx6YNmAHACmgHADWgGADdozZy5sHzs9TOn3jq3ePZC8+Pw4MD1l69cf+Xq1QN9RWcYgIIhNHP8zbNfeuXHZ5fk7YP9fb/6s5eOXjFYdJ4BKBJZM03BHPje27r+Wl8f2/a+y3qTzYnpW0cXdi/v26LdkC5zU31bZ8RNk89kdjZQfQTNvHN+6fPHT6stDE+ztbl3dOjiFf3hlm/98L9eeOXLy2z55mt+cf01v2A7Y96a6dLUzlPboRXQM4JmvvraO//x2png/6WlCyf/7dD/ff3Fsz95a821N3xg612XXPWe4Ktbrl5929UXh0fNfOORu8em+vsG/v5//ubj6//cdkZoBviNoJkvNt587d3zwf8vPXvwx699/wN33rXiolU/OnW8KZvBiy8Jvrp61YrfHbkiPOozX9v94M172v/86YM3/6XtjEbNtP7f9UJ7c7cDFXz9DNva6WEZt7c27p84/vzOta1NTZnsGeM+SJqJem0b93b3IjLQTuWZif1bW9tbG1nnuOgoUCcEzXz222+EHbNnp//s1nt3rrp8SD2m2T174KY10VFHdz+wYU9TMNJuGv1wtTIiqJ8npqcObNvXroat+sw6G1v7cxXYvJ3TiagSSTO8nkLVkhloSyvQR6CyyfD8OTSPoHSYNfNHqy4fVo+RNBPgpBlD30z5oZf25+o3vT0UgyoSUUHiyEDYaCgZ4NWl+x/UCEPf7MDbr77ywW13D6y86AcvzV965dVDP3dd8JXUNwtIQTPt2sqCuhvt5aqZ1n872Ows2yGeRtGMWuHpDEAzQMA0BnDiublXvvGf5949c9X1ozdt+c3VV3TaFmkMICAFzXCVsF17x6M+2Dj3EGPZ3v6wY2GczY/N8hVabXY6fa/2hym2T5cBaAYIpDDWHJBG3yzqFm2cnGQzLGpnxidnZsQhAO32Fi1BzEtP6MoYgGa8QckANAME8n+n6YruWdv0DI7qDLKj/HNn3DWDES2QJeWfo+mmGX40GIAsQCwAAG5AMwC4Ac0A4AY0A4Ab0AwAbkAzALiRgWbOnVv6zveXf7i4/M67rRNcvKrvZ4b73/9etnJl0RcLQAqkrJmlH7y+9K0Gu3BB/mJgoP+DI/3vubLo660QYqwQ0KB7v5c8BjFNzbQE89/HmX7iTf/Pj/Ymm2p6CXAXEZ3Qfp5UNVO+2UZSnFXick+iGXNppKaZ5bPnLnzlGNHC8AwMDNy+vm8w6qTBS6ATutC6P/xU6+bWR8eezy+0zaaZ/OcjiWds/5gk0k2ydia6KyqpaWap8d2lU9+z7tZ//fv6R64NP8JLIEqavk3QTI9ZSNo303+fmmYuvPDN5bd/Evz/sccfvfySS8/89MzNa8fm//dUf//A3bf/0oaRG1vnu+ySgY0fCo+qvZcALxQhpEc6S/OAl57fdjDMdvPjLLuHj4rbO75rl+RSEB6+cW/z2/0mTYgh4VJqDT4bx7tNonz52tOpO3PlrzVVUOs6v4XvNYt3Vf5fVwf4e6q5m5qWJjXNnH/2RXa+0zFrauYTd/324MqVj/zD7Kd+56Nnz5178uBTf/3RP2x9t2JgxS9/ODyq9l4CZMQ13wdRfxXUKsJ1XCLhSz29MAA1jmbU1KT6ql6+7nSasuIvhMagGTE8KjyzXjNUHQhLnswhMzQ0mWjmgSenP/uxnYF4nrz/oeY/9z3x2BP3/bGqmYD6egkw4sesk0jnLtMVQbx26a63U2yInS1b30tuZ6TUeM2Qlz/2KH06uqxYjG4WqRnq0sI9RwztDHmv2/dUeze1DU0mfTNVMx9/4rHPtTUj9c0CauwloPsxs/x4irnOXTNqUnNTWs0Q543zaKLso02zm0mWVDN0yWTfzvBjAKFCVM1IYwABNfYSEA8LhsqECpJUMz31zYyaIS+fGfpm6s7umhG6Y0rfLCqqzgNpjHvN983UHJp0XfBYc2qa8dZLgE+af1wT8trcGI0BxNSMkKPooVxTFWyaibLRTUS6fM3p9GVFXYh8r6Nn143qHVHGALhjYtQBruDJy8lh3Izl8U7TFR+8BExvAtLD2hnM6HQxdy6dK3Au72cCSjZ3xg8vgWzOyXf1orZT6ABmfzrXI0tCTvMAIko0R7PeXgJclyMPa+mcT1cciAUAwA1oBgA3oBkA3IBmAHADmgHADWgGADeqPdYMQPpU+50mAOnj19yZKvsBPMO2liwiH9DADyAO+fgB5DPzDPQK/ADikIsfQLbnAakBP4Bwe+F+AHnNcQa9AT+AMvkBoKHxAfgB8NsL9wNAQ+MB8ANgUrRnoX4AaGc8AH4ApfEDYMVEvAFX4AfAyuMHgGbGC/x6p+mKX34AeJjxg2rPnfHJDwDzAHyh2nM06+0HALIBsQAAuAHNAOAGNAOAGw6a2bx587Fjx4rOMADZsm7dusOHDxt2cNDM0NBQf3//6dOni74oALJlaWnJ8K2DZpqCaf5dXFws+ooAyIrh4WGWumbMybUo0VgzAG7EqeQpa6Zk7zRzINWXoKkuX17wWYo9Y1Ly1kz55s6EBJPBVOttLr6lh5STaoacPhe3bsWePdDTWfREERH2t8DQDPltLn4ATsgxnPvZRjYhTOcS1iFK4SyZHquECsWdpdbDWbRIq5oFa2FUYVZ2rprJxQ/ACWVVvYm987v4e9qubROWRcBdzpLpscLOLrOhM9AMrVNoxjG5XPwAWOxF6IUl7cNV9bY/JQb5Nz/sXhjdo0tkbbyAftJygEyN21ld648JtY6PNji4vP1p+XIoFwG6C2QKbjWchQyqG1fCxJX7whd490pn2T18EF7zxu2aEU+iua25d+py1UwufgDOi9DLq7cywRKgsyWKZKGXvTcG9BuWn6ezFO1sCTuVfrINS9d3P7pqxnKWaEtLVpKKOpWcf5ZRDU3U9TPbh0VlGOTWvFxuqOs8Zs8Wppms/AAMC2pbFqEXqknrRoXr2VsSadiCxjRh0syaJWZsAYLc8PVUbB0cXASSnoVJbYsm6WZ17lTmjJdlt2UmFQrrm2XlB5B8EXp5efuo/bckYg201GvGkiVm7jWFn7vDfTHaGfq+JT4L/y3T/8yHrURGmqluO5OLH0DiRejl5e1nRAcyfSKxNKNZft6cJWbuNU03du5UWkjuEigXAfe+mfEsIvyFCsvGkj8fLpox9M2q/TyTix+A0yL00VCy9LQtj0DtMSQSr50hrQW0HoXUHu0L4p6Vidcf/Mh4gxw302sm2VksL326iVoL3KYZ/W3Nnaq/08w7cr9MVNhFoNDbWr25M8kXoa8eFXIRKNFtLUAzLTKdo1mbRejrRWlua0GaAcBboBkA3IBmAHADmgHADWgGADegGQDcqOJYMwBZUr13mqWifE4ACPSPkzfjPIOqz52JXXKVdAJY3jdSvUD/NOfNlF8zZfIDqI8TQPUC/bOfPlcezZTJD6AmTgAVDfTPerG38mgmHz8Aasp/bZ0AKhrob7I3EDZxH/ggWzLwQozC1fcvKucHQPze1dkJoKqB/kZ7g6h0hTsVTYUmwkal+D/TxOnK+QGo8eu1dgKoaqC/+ZGmmwrjJKPEQgtDJHPxshGjkgd45Qcg3FClYos71MAJoKqB/pYHmiCZWbajIywi2fY3rPSaycMPgIhfr7MTQEUD/S32BkHyC+Nsfmw2vCNi30zOtbmLWJxm8vEDIN4d1NcJoKKB/hZ7A0b1LG1jAPygjDEbeKdZRfyN/4/1wrLgy8PcmWqS7+uSHnPqFuhfuC0K5miCoilNoH9MMtEMAJUnNc1s2rTpyJEjRV8OANkyOjq6sLBg2MFBMwAABs0A4Ao0A4Ab0AwAbmSgGYw1g0qTsmbwTtNjyhzcXybS1Exp584ok/1TXzOLch3I7J22y4oARQb3V5XUNFMmP4AAdYpJdlGz3fma83HnnPd0qrgrzxQe3F9NUtNMmfwAAnLXzO7jY3u4H+psNDNHrnCmy1Thwf1VJDXN5OMHoI0vN7oCcPtIVUwN3NfHBdi9AYLYwO4s9TixBqY0yeyJOjCFzrP8gvtrRmqaycMPwLQGrdkVIDxcWu6YOmrqwLZ9YSxTGOJv9wbgXALaquEj15OkqXMpoFZsNnh55RTcXyMy0UxWfgCGtc7tIfhM1gx9FNkqOMU5d1UjWN24p9mgsrftgNjdihVtkmtwfw3IpG+WlR+AQTP2EHxGaEY9iv8BpetQDG+AQDWT3SGBZGk2dC4FVDtjvz9ZB/fXiEzGALLyAzD1zawh+IyqcMpRXFUQQ/yd/DTEQOKEaVpdCmyh87kF99eMgseaAxx8Z3Tx5UZXAO0YgCZwv3OCyUk2w5K0M2HSXOPinqbWAZEYN9M8zxQf3F9FfH6nWc/ugcP7mSypZ+G38WvujHN8eSVxmQeQ7mlR+C18m6PpW3x5pUDht0EsAABuQDMAuAHNAOAGNAOAG9AMAG5AMwC44dtYMwBF49c7TZCIwoOWEy07Xlp8njsTg0o6AWgWmDEf5qyZNC8CmiEpkx9A5Z0A8gn0z34+W801UyY/gKo7AeQW6J9dsYXp11kz+fgBaGbH180JIK9Af5PfgLCJ+2Bbpk/qL3s4cc0rPwDil7SuTgA5Bfob/Qb4y+SWBBaWg5VjQ6VAOi9nR3vlB6Aue19fJwAu5QwD/c2PNN1ddauKC42w87LjpcUrP4AO3FBVo7ZOAPz27AL9LQ80wb6zbEc0NiFrpv0Ng2Yo8vADIJa9r6UTQG6B/ma/gU4aC+Nsfox70BL6ZnLWqmAq4JkfAPFWopZOADkF+tv8BoSfAuUW0WMA/OiGn6YCFX+nWSnyif8XnuyL8xsoMZg74xPZeC3Tgf5+PmvkAeZoAgT6u4FYAADcgGYAcAOaAcANaAYAN6AZANyAZgBwA2PNALiBd5o9giVda0dN5s5QUfstuFCWHlLuTTPcBK2UvQrkXMZZSgCv/61U0g8gQJ7nu59tZBPC9CllKmePZ3GHiwELPt668FAa9VWZ1xx7yRqbZtCuVtMPIECZGz+xd36XNG1/B5vocWptL3VIDVHO4to1S6Pp8wTNmPHMD0C/RL3JFSCcGy8EUAa1Y/fC6B5dImtj+wG0I+/bB3LdKzKmnwvT371wo7Z62mbUS9P7hRB/9dq5tsUU4h+VSnTt+pSl6H+7u4CtQHzpEXrlB2Bag9bsCtD9n4UJcFs6h+qi8O1+AFHkvRD0T2dJ2JnWjDWq3hriLwWsUEs9x9KMNWW6xJzuUVQgnuCVH4BhrXOLK4AScDj2qLxOOp1IwzHmjBenzahApxlrVD2zhpFxuZIfYSyPNHI7Y0iZLLGwYJ3vkTd45Qdg0IzFFUC80+0ex36pdZnTReEn1YzdqEAjGmtUPXPRjK6d0dxHN82o2U9+j7zBKz8AU9/M7AqgBteqHSRbFL5eM2Fwrxj0bzcqkCPiO+NmDX1Ufac3pXEX0GlGcsExhfg7aEZbYsnukTd45gegjVw3ugJI8fHyoJLVv8/azoxPzswoQwAaywG5ilBP+7qtYZIadwFhUDkcRm+Q42YJNSMO0FPF7nKP6q0Zlv87Tbx+i4nL+5mUqeI98mvuDJaoT0j8eQBpnKri98i3OZqIXC8/Vb9HiAUAwA1oBgA3oBkA3IBmAHADmgHADWgGADd8G2sGoGj8eqdZKryc9+E9JVg23ee5M7GAE4Bm3b4cSfPUVdJMmfwA4ASgOgEUG7Sc/Tw3HzVTJj8AOAEQTgAFB/rbfAhSSN87zeTjB6BZMw9OAHYngIID/U0+BMIm7oOtKKRI0bwmt3nlB0D8FMIJIK4TQNGB/kYfAmFBwuh0xqKQgtjym0HtlR9A53eF+uHrAicAnRNA0YH+5keabnK6VdHVoihu2XSv/AC44usMhTWsUeZwAiDbmfwD/WP5EMyyHR1hWYuiAprJww/gxPR0Y+dOoeLACSCuE0DBgf42H4J2RhbG2fzYbFjOuqJQ+2ZycWaKZ34AUUdAjvqntsEJgB43KyLQ3+ZDIPzsGApI/Q1U85MxlX+nWW+yey/i1hfK3YcgSzB3puKk99oleaB/xYw0MEcTxKbqgf4xQSwAAG5AMwC4Ac0A4AY0A4Ab0AwAbkAzALiBsWYA3MA7zR7JxxUg64itLNCVjI/XIlCTuTOldQUgJtBpduu1nsVeGoB7c2nNV5KSgWa6lMkPIKD8rgDSzNxwZgq5Z2/1zGEJGvGKJN+CFEoGmulSJj+AgNK7AjhMXOy1ns2RS53FvKKElwjN2MjHDyB2SLoPrgDPjz1GOmnQgQndeqadeN9O9paHH+779HMTwjVKxgBiyIw6LV+t6/T8e5tdga5kJGMP1XWg7HjlB2AKe/LQFYCFdYbv+5yYnjqwbV8YdhWm1o0+Ib7Vmg10D9Ms3eysGSe7AkPJBJkhiyifat8TXvkBGMJrfXQF6NJpOUxBa0KlV77VBU5z2hA6geZOIamZ9v4NW4w+U9sZpWS2cEImisiDpsYrP4DkIenldAWQTtT+HR7hmk8hjjdsGdRvicDpZh2fZTu4a6baGfpOUiGWdBGZ7QpiaMbPqBqv/ACSh6SX0hVAGCrrJsj9loupyfWM+5Z6apdj67nqaQnNV8fNwu7YnItdgaFkwr6ZWkQe4JkfgEtIugeuAPyrEH6fzhUKof9RNL3yLe37xgdS0uNmes1E72fkDlN8uwJdyZjHMzzA53ea3jbuOaDrRsV4PwMs+DV3pvprz6cD9dwUex4AsODbHE2EpNsQH9dA+iAWAAA3oBkA3IBmAHADmgHADWgGADegGQDc8G2sGYCi8eudZqmorRNA0cFkRS937vPcmVjACUCYsl9UoH+a9bkymimTHwCcAMRscosyFRfon/08N+80UyY/ADgBkMcXHeifdd/NO83k4wdATR6HE0BMJ4CiA/1NPgTCJu6DLVfSGtO5zEH0yg+AjhOBE0BMJ4DCA/2NPgTRQfFzJUWt5TTR3Ss/gE5F2yjEUsEJIK4TQOGB/uYuaTfzutXM1VwVtNy5V34AXNl1hsIacAKI7wRQeKC/5YEmOK6Z+Y6wrLnyXTN5+AGcmJ5u7Nwp3EA4AcR3Aig60N/iQ0BmXpcrtW/G/6hki2d+AMRLDTgBxHUCKDrQ3+JDwJioRm2u6JELySMyQyr/TrN26J0AiqUs+egdzJ2pFnongGLn31TJ7wRzNKsDnADyAbEAALgBzQDgBjQDgBvQDABuQDMAuAHNAOAGxpoBcKP27zS18zi8z9Li0X8+zDbdtWE43r7/dHrD1Kbr1M0vX3d3vDRqQyXnzsQMtW/TQwV1cdrPKUshzdq+/+gbzX/WbJiIqnxLA197o6+v+e/y8pqbIzFAMw745QcQZxYIGWqfwfQRhxVd8spSyOLRw6euX88ON9uZTezYqes3tSr9y4f3HVqMdNLWz/AdgU40mklw4nTSKTV++QHEqGd0BU6/gtIrhxWaJQmxb9ZSDLtDrM3RNmjGAY/8AOb4QH9tsLgYvKEe2I0O6Ibmz7J7omCMdkjaLj7onz+cn20u6sAU6Z5blmQEzTTlcXRI6WSFW4O6fgc7dOhku+d2w69Mtuq9IIGWwoJvuf5etHF4/S1rjr4Q/L+8ZkOFO3Re+QEokRNEsDjThNqLUWhROLsYwDQThQwHVd+w6i21ErLBeivzLMnE0EyoiXZH7fWRTjsUtj+RZvjjw61Sb4+hnXEjFz8AOVCZCBaXgro69VAXuSlVUD4GjQqU5+PNhO5WrOCQbLOknC6eZoJdpLre/TgUqWPmyyf5I1tNzZpjSprQjAu5+AGYNaPWWouBipikUwXVtDP2csouSzI9PM8QmiEkR2yEZlzIww/A3DcLWwA11H5t0gpq6ptxVdUc6Z5TlmSk9zPt7hczjJsRH4S+WSS5l9sDcuLGl48eHdqwgUEzDuTjByB6xlpC2FkMhwBbBRWi9PkHbnrcTPM8k0+WJIh3mub3M8MjJ0+ebH91AzEEzR3bGSHgNoaHBO+FMAYQl9K808wMug4XGuket2+WiFp0tZyp/dwZC3y/SjZqdJkHkFOW0gXTAEgwR9MG16/KxQ24HFlqD5RFnTTAgVgAANyAZgBwA5oBwA1oBgA3oBkA3IBmAHAjfc0snz9z4UfHlt88ufTTxebH/ouG+664YeCq9X0rVhd9sQCkQNrvNE8fP/fdf2VLZ+Uv+gdXXvtr/UOjRV+v/5TQwKBmpDp3pimY7/yLYe7Myvf/eillwy2cFlbEXI3s83YLAL2Q3hzN8++c/fbf8S3Mwa8c/9K/N6597xUP3XNbZ1P/4OBNv9+34mL18PNfP3Tuxaeb/6z88G+sWHeH5iQZxQN3FyGaL2ChuQLcAkBvpBdz9upXL7z6Ar/lE48d+uTkR4YvW8VvHLhm44prblMPP/P5Xat+61PNf979x79Yfe9ezUmy1Mzu42N7uB/w3DRTkFsASExqmjn30heWzrzGb7n/rw4+/sk7pd36V1+98sbfUw8/8/jk6vtn+H8UTH4AwiL05Cp/z0zs39ra3trYXVqZW084XBC4uzRdnJUDTWkypmavTG4BIDGpaebs/GeWL0Qds/seORD8s/Ujo3feHj3D9A0MDo4/KB175vE/kLasvv9vqZNIMWfq6qonpqcObNsXLmAarlvfqm3RsubyOuHif4Fq+OXqk6RJZW+kRG4BIDFZaYa1ZfPEn2yTz5eWZrSL0KutgtOq5V3VbH9KDsR0SrOhzZ6OnN0CQGIy7JuRmiH7Zgk1o9YG/oeVrltWzXRVM9kdEkiWZiNZZc3PLQAkJsMxAFIz5BhA0r6Zsgg9V0XEdetdNCNFUCdMk8pemdwCQGIyHGsmNKMZa46tGbE2E4/mXKR8tJ69s2bUBss9TWrkoExuASAxeKdZadA3ywDMnakY+bkF1BbM0awcJTQwqBaIBQDADWgGADegGQDcgGYAcAOaAcANaAYANzDWDIAbeKfJEOAFnMDcGZaGZrjIBHtEf2pgZkwh+OUHkBG9aYYL/Qo+3rrwUBr12J4rm2bQfmaCX34AGdFL3VIjk/PLFTRTCB75AbCEUfhx/QDaAfftA7nulZoat/PGvS/tXrhRW22ppQvpuBg1sr8hWAK0PACIIAJOM5YUtPYJWvMAy4XXuUfolx9Aoij8LbH8AKKAeyHon7IckHamNaMskWuKvyQj+7ldNYE3omaMKehLxrbCrubCa4xffgDJovAbjjFn3Y+MTI0JO+s0QyzFHtpoaNoZOXrMqW9mS4G0Txh7lA6Enotx4TXGLz+AZFH4rnGanGaI1KSdNaIhNNOux6w4zajZnJvSasZ+4fXFLz+ARFH48TTT9TWTgv7V1EjzAMY/ILTHzRpy3yw6VaeXpXEXoGp8rL6ZWXW6ktH1zewXXlv88gNIFIUfs50Zn5yZUYYANJYDctWhnvZ1W8MkNe4CwhrqHUuAmGMA+hQ09gl684CYF15L8E4TdMEr0nhg7kydgXlAEjBHs97APMAdxAIA4AY0A4Ab0AwAbkAzALgBzQDgBjQDgBsYawbADbzTZHnNCpmb6ntqe0mnnuhKoMx5LgzMnWE9ayaaV2YMLsmi/vFL19jOn6QEoBkC+AGw9GKbhSXLqD0z0YwQzMM7E6RQAtAMAfwAWE+a4dYXs5G9ZpJfCjTjAPwAevMDeH7sMdJDgw5J6NY/7Uz7drK3PPxw36efmxBibzThAPSqhnzMTDxDAl0J8Joh7QTqCPwAevMDYGFd4vtEJ6anDmzb1w3SiVIL6h/5rdZmoHPYCBl2ZtCMkyGBoQSCPJNFkWXFLDHwA+jND6BLp+UwhasJ/RzlW13ItLl3RGqGWvTcYkigKYEt3bPTDgE1bWrgB9CjH4B0ovbv84i06nPYBrbr3wnyWyJkuln3Z9kO40+6khltTL/ZkCCGZhCO1gV+AL35AQhDZYR0xdTk+sd9Sz3N71gYZ/Nj0Qrmtr6Z0B2bczEkMJRA2DdTi6KmwA+gVz8A/hUJv08nyl4I+u8+zxDfEs2XUOv1monez8gdpviGBLoSMI9b1BS80ywv6BCVE8ydKSt1H50qL5ijWUb4IXFQNhALAIAb0AwAbkAzALgBzQDghrNmNm/efOzYsaKzDWrBunXrDh8+XHQuZJw1MzQ01N/ff/r06aJzDmrB0tJS0VmQcdZMUzDNv4uLi7odls+/e+H1by6/9fLS2Zau+geH+i6/buDKD/WtWBX/LAAMDw+zKmlGdyV+vtNM9fWhZq2YUqRWzjNqMNe0AklTM97OnelFM2SkZOI6l25qITEdC1I8YwpUXzN19QNwOta6c7qpBZCOBR7MzKm+ZmrqB1B+zdCOBdBMclLTTF39ALYd1LtY8NPnDy5vfzqcma9d7s/kiWFIjQwRGFcilbli5HLSuYTuFbUyxgWK7x3ftUtXwupygml26qqvmbr6AehrOfFTbl1WNmlq3JaWrCQVkY4FYrhmdEVCYXatn6Lc6patFTOQxvzS2mmG1cUPwNAyBFWVr7/ufbP4qQltiybpyLGAttJQzqisaytFj+tCfGyZ6aWmFU6GfbN6+AFYHcaCuhotnZxUM3FSs/7MW+xnxDMm0AzaGZcrqakfgLE3Nd3YuXMLoztY7n0zU2oS/AWRjgVrk2rG0DfD84zrldTVD0COyOeeoYnXIp29jWMACVIzV1TKsYDLiTSMYdGMYHYgjAGkTfU1wzx+pwmSkqVlQS00w3ydOwPiw3f1RDuotKmLZhj8ACoP19XL1E2zRpoBIBVKW9OgGVBSSlvTEmoGgHyogmY2bdp05MiRorMNasHo6OjCwkLRuZCBhwYAbkAzALjx/5a6dmVJCPxgAAAAAElFTkSuQmCC" loading="lazy" class="lazy"></p> <h2 id="_2、配置-2"><a href="#_2、配置-2" class="header-anchor">#</a> 2、配置</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验十三 集合类型的bean --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyTeam2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyTeam<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>memberList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>list</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>member01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>member02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>member03<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>list</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_3、测试-4"><a href="#_3、测试-4" class="header-anchor">#</a> 3、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment13</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token class-name">HappyTeam</span> happyTeam2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HappyTeam</span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;happyTeam2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> memberList <span class="token operator">=</span> happyTeam2<span class="token punctuation">.</span><span class="token function">getMemberList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> member <span class="token operator">:</span> memberList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;member = &quot;</span> <span class="token operator">+</span> member<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4、其他变化形式"><a href="#_4、其他变化形式" class="header-anchor">#</a> 4、其他变化形式</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验十一 给bean的属性赋值：集合属性 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyTeam2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyTeam<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>memberNameList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- list标签：准备一组集合类型的数据，给集合属性赋值 --&gt;</span>
        <span class="token comment">&lt;!--&lt;list&gt;
            &lt;value&gt;member01&lt;/value&gt;
            &lt;value&gt;member02&lt;/value&gt;
            &lt;value&gt;member03&lt;/value&gt;
        &lt;/list&gt;--&gt;</span>
        <span class="token comment">&lt;!-- 使用set标签也能实现相同效果，只是附带了去重功能 --&gt;</span>
        <span class="token comment">&lt;!--&lt;set&gt;
            &lt;value&gt;member01&lt;/value&gt;
            &lt;value&gt;member02&lt;/value&gt;
            &lt;value&gt;member02&lt;/value&gt;
        &lt;/set&gt;--&gt;</span>
        <span class="token comment">&lt;!-- array也同样兼容 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>array</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>member01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>member02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>member02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>array</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>managerList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 给Map类型的属性赋值 --&gt;</span>
        <span class="token comment">&lt;!--&lt;map&gt;
            &lt;entry key=&quot;财务部&quot; value=&quot;张三&quot;/&gt;
            &lt;entry key=&quot;行政部&quot; value=&quot;李四&quot;/&gt;
            &lt;entry key=&quot;销售部&quot; value=&quot;王五&quot;/&gt;
        &lt;/map&gt;--&gt;</span>
        <span class="token comment">&lt;!-- 也可以使用props标签 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>props</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>财务部<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>张三2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>行政部<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>李四2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>prop</span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>销售部<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>王五2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>prop</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>props</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment12.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment14.html">下一个实验</a></p> <h1 id="实验十二-自动装配"><a href="#实验十二-自动装配" class="header-anchor">#</a> 实验十二 自动装配</h1> <h2 id="_1、声明组件类-2"><a href="#_1、声明组件类-2" class="header-anchor">#</a> 1、声明组件类</h2> <p>其中HappyController需要用到HappyService。所谓自动装配就是一个组件需要其他组件时，由 IOC 容器负责找到那个需要的组件，并装配进去。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HappyController</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">HappyService</span> happyService<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">HappyService</span> <span class="token function">getHappyService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> happyService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setHappyService</span><span class="token punctuation">(</span><span class="token class-name">HappyService</span> happyService<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>happyService <span class="token operator">=</span> happyService<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HappyService</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2、配置-3"><a href="#_2、配置-3" class="header-anchor">#</a> 2、配置</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验十二 自动装配 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyService3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyService<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyService2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyService<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- 使用bean标签的autowire属性设置自动装配效果 --&gt;</span>
<span class="token comment">&lt;!-- byType表示根据类型进行装配，此时如果类型匹配的bean不止一个，那么会抛NoUniqueBeanDefinitionException --&gt;</span>
<span class="token comment">&lt;!-- byName表示根据bean的id进行匹配。而bean的id是根据需要装配组件的属性的属性名来确定的 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyController<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyController<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>byName<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 手动装配：在property标签中使用ref属性明确指定要装配的bean --&gt;</span>
    <span class="token comment">&lt;!--&lt;property name=&quot;happyService&quot; ref=&quot;happyService&quot;/&gt;--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_3、测试-5"><a href="#_3、测试-5" class="header-anchor">#</a> 3、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment12</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">HappyController</span> happyController <span class="token operator">=</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">HappyController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HappyService</span> happyService <span class="token operator">=</span> happyController<span class="token punctuation">.</span><span class="token function">getHappyService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;happyService = &quot;</span> <span class="token operator">+</span> happyService<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment11.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment13.html">下一个实验</a></p> <h1 id="实验十三-集合类型的bean"><a href="#实验十三-集合类型的bean" class="header-anchor">#</a> 实验十三 集合类型的bean</h1> <h2 id="_1、配置-2"><a href="#_1、配置-2" class="header-anchor">#</a> 1、配置</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验十一 给bean的属性赋值：集合属性 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">util:</span>list</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>machineList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>machineName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>machineOne<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>machineName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>machineTwo<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>machineName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>machineThree<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">util:</span>list</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_2、测试-3"><a href="#_2、测试-3" class="header-anchor">#</a> 2、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment11</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HappyMachine</span><span class="token punctuation">&gt;</span></span> machineList <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HappyMachine</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;machineList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">HappyMachine</span> happyMachine <span class="token operator">:</span> machineList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;happyMachine = &quot;</span> <span class="token operator">+</span> happyMachine<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment10.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment12.html">下一个实验</a></p> <h1 id="实验十四-factorybean机制"><a href="#实验十四-factorybean机制" class="header-anchor">#</a> 实验十四 FactoryBean机制</h1> <h2 id="_1、简介"><a href="#_1、简介" class="header-anchor">#</a> 1、简介</h2> <p>FactoryBean是Spring提供的一种整合第三方框架的常用机制。和普通的bean不同，配置一个FactoryBean类型的bean，在获取bean的时候得到的并不是class属性中配置的这个类的对象，而是getObject()方法的返回值。通过这种机制，Spring可以帮我们把复杂组件创建的详细过程和繁琐细节都屏蔽起来，只把最简洁的使用界面展示给我们。</p> <p>将来我们整合Mybatis时，Spring就是通过FactoryBean机制来帮我们创建SqlSessionFactory对象的。</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">/*
 * Copyright 2002-2020 the original author or authors.
 *
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */</span>

<span class="token keyword">package</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span><span class="token class-name">Nullable</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Interface to be implemented by objects used within a {@link BeanFactory} which
 * are themselves factories for individual objects. If a bean implements this
 * interface, it is used as a factory for an object to expose, not directly as a
 * bean instance that will be exposed itself.
 *
 * &lt;p&gt;&lt;b&gt;NB: A bean that implements this interface cannot be used as a normal bean.&lt;/b&gt;
 * A FactoryBean is defined in a bean style, but the object exposed for bean
 * references ({@link #getObject()}) is always the object that it creates.
 *
 * &lt;p&gt;FactoryBeans can support singletons and prototypes, and can either create
 * objects lazily on demand or eagerly on startup. The {@link SmartFactoryBean}
 * interface allows for exposing more fine-grained behavioral metadata.
 *
 * &lt;p&gt;This interface is heavily used within the framework itself, for example for
 * the AOP {@link org.springframework.aop.framework.ProxyFactoryBean} or the
 * {@link org.springframework.jndi.JndiObjectFactoryBean}. It can be used for
 * custom components as well; however, this is only common for infrastructure code.
 *
 * &lt;p&gt;&lt;b&gt;{@code FactoryBean} is a programmatic contract. Implementations are not
 * supposed to rely on annotation-driven injection or other reflective facilities.&lt;/b&gt;
 * {@link #getObjectType()} {@link #getObject()} invocations may arrive early in the
 * bootstrap process, even ahead of any post-processor setup. If you need access to
 * other beans, implement {@link BeanFactoryAware} and obtain them programmatically.
 *
 * &lt;p&gt;&lt;b&gt;The container is only responsible for managing the lifecycle of the FactoryBean
 * instance, not the lifecycle of the objects created by the FactoryBean.&lt;/b&gt; Therefore,
 * a destroy method on an exposed bean object (such as {@link java.io.Closeable#close()}
 * will &lt;i&gt;not&lt;/i&gt; be called automatically. Instead, a FactoryBean should implement
 * {@link DisposableBean} and delegate any such close call to the underlying object.
 *
 * &lt;p&gt;Finally, FactoryBean objects participate in the containing BeanFactory's
 * synchronization of bean creation. There is usually no need for internal
 * synchronization other than for purposes of lazy initialization within the
 * FactoryBean itself (or the like).
 *
 * @author Rod Johnson
 * @author Juergen Hoeller
 * @since 08.03.2003
 * @param &lt;T&gt; the bean type
 * @see org.springframework.beans.factory.BeanFactory
 * @see org.springframework.aop.framework.ProxyFactoryBean
 * @see org.springframework.jndi.JndiObjectFactoryBean
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">FactoryBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

	<span class="token comment">/**
	 * The name of an attribute that can be
	 * {@link org.springframework.core.AttributeAccessor#setAttribute set} on a
	 * {@link org.springframework.beans.factory.config.BeanDefinition} so that
	 * factory beans can signal their object type when it can't be deduced from
	 * the factory bean class.
	 * @since 5.2
	 */</span>
	<span class="token class-name">String</span> OBJECT_TYPE_ATTRIBUTE <span class="token operator">=</span> <span class="token string">&quot;factoryBeanObjectType&quot;</span><span class="token punctuation">;</span>

	<span class="token comment">/**
	 * Return an instance (possibly shared or independent) of the object
	 * managed by this factory.
	 * &lt;p&gt;As with a {@link BeanFactory}, this allows support for both the
	 * Singleton and Prototype design pattern.
	 * &lt;p&gt;If this FactoryBean is not fully initialized yet at the time of
	 * the call (for example because it is involved in a circular reference),
	 * throw a corresponding {@link FactoryBeanNotInitializedException}.
	 * &lt;p&gt;As of Spring 2.0, FactoryBeans are allowed to return {@code null}
	 * objects. The factory will consider this as normal value to be used; it
	 * will not throw a FactoryBeanNotInitializedException in this case anymore.
	 * FactoryBean implementations are encouraged to throw
	 * FactoryBeanNotInitializedException themselves now, as appropriate.
	 * @return an instance of the bean (can be {@code null})
	 * @throws Exception in case of creation errors
	 * @see FactoryBeanNotInitializedException
	 */</span>
	<span class="token annotation punctuation">@Nullable</span>
	<span class="token class-name">T</span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>

	<span class="token comment">/**
	 * Return the type of object that this FactoryBean creates,
	 * or {@code null} if not known in advance.
	 * &lt;p&gt;This allows one to check for specific types of beans without
	 * instantiating objects, for example on autowiring.
	 * &lt;p&gt;In the case of implementations that are creating a singleton object,
	 * this method should try to avoid singleton creation as far as possible;
	 * it should rather estimate the type in advance.
	 * For prototypes, returning a meaningful type here is advisable too.
	 * &lt;p&gt;This method can be called &lt;i&gt;before&lt;/i&gt; this FactoryBean has
	 * been fully initialized. It must not rely on state created during
	 * initialization; of course, it can still use such state if available.
	 * &lt;p&gt;&lt;b&gt;NOTE:&lt;/b&gt; Autowiring will simply ignore FactoryBeans that return
	 * {@code null} here. Therefore it is highly recommended to implement
	 * this method properly, using the current state of the FactoryBean.
	 * @return the type of object that this FactoryBean creates,
	 * or {@code null} if not known at the time of the call
	 * @see ListableBeanFactory#getBeansOfType
	 */</span>
	<span class="token annotation punctuation">@Nullable</span>
	<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">getObjectType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">/**
	 * Is the object managed by this factory a singleton? That is,
	 * will {@link #getObject()} always return the same object
	 * (a reference that can be cached)?
	 * &lt;p&gt;&lt;b&gt;NOTE:&lt;/b&gt; If a FactoryBean indicates to hold a singleton object,
	 * the object returned from {@code getObject()} might get cached
	 * by the owning BeanFactory. Hence, do not return {@code true}
	 * unless the FactoryBean always exposes the same reference.
	 * &lt;p&gt;The singleton status of the FactoryBean itself will generally
	 * be provided by the owning BeanFactory; usually, it has to be
	 * defined as singleton there.
	 * &lt;p&gt;&lt;b&gt;NOTE:&lt;/b&gt; This method returning {@code false} does not
	 * necessarily indicate that returned objects are independent instances.
	 * An implementation of the extended {@link SmartFactoryBean} interface
	 * may explicitly indicate independent instances through its
	 * {@link SmartFactoryBean#isPrototype()} method. Plain {@link FactoryBean}
	 * implementations which do not implement this extended interface are
	 * simply assumed to always return independent instances if the
	 * {@code isSingleton()} implementation returns {@code false}.
	 * &lt;p&gt;The default implementation returns {@code true}, since a
	 * {@code FactoryBean} typically manages a singleton instance.
	 * @return whether the exposed object is a singleton
	 * @see #getObject()
	 * @see SmartFactoryBean#isPrototype()
	 */</span>
	<span class="token keyword">default</span> <span class="token keyword">boolean</span> <span class="token function">isSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h2 id="_2、实现factorybean接口"><a href="#_2、实现factorybean接口" class="header-anchor">#</a> 2、实现FactoryBean接口</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// 实现FactoryBean接口时需要指定泛型</span>
<span class="token comment">// 泛型类型就是当前工厂要生产的对象的类型</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HappyFactoryBean</span> <span class="token keyword">implements</span> <span class="token class-name">FactoryBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HappyMachine</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> machineName<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMachineName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> machineName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMachineName</span><span class="token punctuation">(</span><span class="token class-name">String</span> machineName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>machineName <span class="token operator">=</span> machineName<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">HappyMachine</span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

        <span class="token comment">// 方法内部模拟创建、设置一个对象的复杂过程</span>
        <span class="token class-name">HappyMachine</span> happyMachine <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HappyMachine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        happyMachine<span class="token punctuation">.</span><span class="token function">setMachineName</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>machineName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> happyMachine<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">getObjectType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 返回要生产的对象的类型</span>
        <span class="token keyword">return</span> <span class="token class-name">HappyMachine</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_3、配置bean"><a href="#_3、配置bean" class="header-anchor">#</a> 3、配置bean</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验十四 FactoryBean机制 --&gt;</span>
<span class="token comment">&lt;!-- 这个bean标签中class属性指定的是HappyFactoryBean，但是将来从这里获取的bean是HappyMachine对象 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.factory.HappyFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- property标签仍然可以用来通过setXxx()方法给属性赋值 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>machineName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceCreamMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_4、测试获取bean"><a href="#_4、测试获取bean" class="header-anchor">#</a> 4、测试获取bean</h2> <ul><li>配置的bean：HappyFactoryBean</li> <li>获取bean后得到的bean：HappyMachine</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment14</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">HappyMachine</span> happyMachine3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HappyMachine</span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;happyMachine3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">String</span> machineName <span class="token operator">=</span> happyMachine3<span class="token punctuation">.</span><span class="token function">getMachineName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;machineName = &quot;</span> <span class="token operator">+</span> machineName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment13.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment15.html">下一个实验</a></p> <h1 id="实验十五-bean的作用域"><a href="#实验十五-bean的作用域" class="header-anchor">#</a> 实验十五 bean的作用域</h1> <h2 id="_1、概念"><a href="#_1、概念" class="header-anchor">#</a> 1、概念</h2> <p>在Spring中可以通过配置bean标签的scope属性来指定bean的作用域范围，各取值含义参加下表：</p> <table><thead><tr><th>取值</th> <th>含义</th> <th>创建对象的时机</th></tr></thead> <tbody><tr><td>singleton</td> <td>在IOC容器中，这个bean的对象始终为单实例</td> <td>IOC容器初始化时</td></tr> <tr><td>prototype</td> <td>这个bean在IOC容器中有多个实例</td> <td>获取bean时</td></tr></tbody></table> <p>如果是在WebApplicationContext环境下还会有另外两个作用域（但不常用）：</p> <table><thead><tr><th>取值</th> <th>含义</th></tr></thead> <tbody><tr><td>request</td> <td>在一个请求范围内有效</td></tr> <tr><td>session</td> <td>在一个会话范围内有效</td></tr></tbody></table> <h2 id="_2、配置-4"><a href="#_2、配置-4" class="header-anchor">#</a> 2、配置</h2> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验十五 bean的作用域 --&gt;</span>
<span class="token comment">&lt;!-- scope属性：取值singleton（默认值），bean在IOC容器中只有一个实例，IOC容器初始化时创建对象 --&gt;</span>
<span class="token comment">&lt;!-- scope属性：取值prototype，bean在IOC容器中可以有多个实例，getBean()时创建对象 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyMachine4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prototype<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>machineName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iceCreamMachine<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_3、测试-6"><a href="#_3、测试-6" class="header-anchor">#</a> 3、测试</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testExperiment15</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">HappyMachine</span> happyMachine01 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HappyMachine</span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;happyMachine4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">HappyMachine</span> happyMachine02 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HappyMachine</span><span class="token punctuation">)</span> iocContainer<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;happyMachine4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>happyMachine01 <span class="token operator">==</span> happyMachine02<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;happyMachine01.hashCode() = &quot;</span> <span class="token operator">+</span> happyMachine01<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;happyMachine02.hashCode() = &quot;</span> <span class="token operator">+</span> happyMachine02<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment14.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a> <a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment16.html">下一个实验</a></p> <h1 id="实验十六-bean的生命周期"><a href="#实验十六-bean的生命周期" class="header-anchor">#</a> 实验十六 bean的生命周期</h1> <h2 id="_1、bean的生命周期清单"><a href="#_1、bean的生命周期清单" class="header-anchor">#</a> 1、bean的生命周期清单</h2> <ul><li>bean对象创建（调用无参构造器）</li> <li>给bean对象设置属性</li> <li>bean对象初始化之前操作（由bean的后置处理器负责）</li> <li>bean对象初始化（需在配置bean时指定初始化方法）</li> <li>bean对象初始化之后操作（由bean的后置处理器负责）</li> <li>bean对象就绪可以使用</li> <li>bean对象销毁（需在配置bean时指定销毁方法）</li> <li>IOC容器关闭</li></ul> <h2 id="_2、指定bean的初始化方法和销毁方法"><a href="#_2、指定bean的初始化方法和销毁方法" class="header-anchor">#</a> 2、指定bean的初始化方法和销毁方法</h2> <h3 id="_1创建两个方法作为初始化和销毁方法"><a href="#_1创建两个方法作为初始化和销毁方法" class="header-anchor">#</a> ①创建两个方法作为初始化和销毁方法</h3> <p>用com.atguigu.ioc.component. HappyComponent类测试：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">happyInitMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;HappyComponent初始化&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">happyDestroyMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;HappyComponent销毁&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2配置bean时指定初始化和销毁方法"><a href="#_2配置bean时指定初始化和销毁方法" class="header-anchor">#</a> ②配置bean时指定初始化和销毁方法</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 实验十六 bean的生命周期 --&gt;</span>
<span class="token comment">&lt;!-- 使用init-method属性指定初始化方法 --&gt;</span>
<span class="token comment">&lt;!-- 使用destroy-method属性指定销毁方法 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyComponent<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.component.HappyComponent<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyInitMethod<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyDestroyMethod<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>happyName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uuu<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="_3、bean的后置处理器"><a href="#_3、bean的后置处理器" class="header-anchor">#</a> 3、bean的后置处理器</h2> <h3 id="_1创建后置处理器类"><a href="#_1创建后置处理器类" class="header-anchor">#</a> ①创建后置处理器类</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>ioc<span class="token punctuation">.</span>process</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span></span><span class="token class-name">BeansException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">BeanPostProcessor</span><span class="token punctuation">;</span>

<span class="token comment">// 声明一个自定义的bean后置处理器</span>
<span class="token comment">// 注意：bean后置处理器不是单独针对某一个bean生效，而是针对IOC容器中所有bean都会执行</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyHappyBeanProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;☆☆☆&quot;</span> <span class="token operator">+</span> beanName <span class="token operator">+</span> <span class="token string">&quot; = &quot;</span> <span class="token operator">+</span> bean<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;★★★&quot;</span> <span class="token operator">+</span> beanName <span class="token operator">+</span> <span class="token string">&quot; = &quot;</span> <span class="token operator">+</span> bean<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2把bean的后置处理器放入ioc容器"><a href="#_2把bean的后置处理器放入ioc容器" class="header-anchor">#</a> ②把bean的后置处理器放入IOC容器</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- bean的后置处理器要放入IOC容器才能生效 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myHappyBeanProcessor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.ioc.process.MyHappyBeanProcessor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre></div><h3 id="_3执行效果示例"><a href="#_3执行效果示例" class="header-anchor">#</a> ③执行效果示例</h3> <blockquote><p>HappyComponent创建对象
HappyComponent要设置属性了
☆☆☆happyComponent = com.atguigu.ioc.component. HappyComponent@ca263c2
HappyComponent初始化
★★★happyComponent = com.atguigu.ioc.component. HappyComponent@ca263c2
HappyComponent销毁</p></blockquote> <p><a href="/javanote/note/ssm/spring/IOC-container/XML-management-bean/experiment15.html">上一个实验</a> <a href="/javanote/note/ssm/spring/IOC-container/verse03.html">回目录</a></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/javanote/note/ssm/spring/IOC-container/IOC-container-concept/" class="prev">
        第二节 IOC容器概念
      </a></span> <span class="next"><a href="/javanote/note/ssm/spring/spring5-new-features/JSP305/">
        JSR305标准相关注解
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/javanote/assets/js/app.4d8a0605.js" defer></script><script src="/javanote/assets/js/11.31b4bfe5.js" defer></script><script src="/javanote/assets/js/54.7d73666a.js" defer></script>
  </body>
</html>

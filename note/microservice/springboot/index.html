<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SpringBoot基础 | Java全栈</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Java 基础, Java 部分源码, JVM, Spring, Spring Boot, Spring Cloud, 数据库原理, MySQL, ElasticSearch, Docker, Linux, 分布式, 中间件, Git">
    
    <link rel="preload" href="/javanote/assets/css/0.styles.1d83b9a0.css" as="style"><link rel="preload" href="/javanote/assets/js/app.4d8a0605.js" as="script"><link rel="preload" href="/javanote/assets/js/11.31b4bfe5.js" as="script"><link rel="preload" href="/javanote/assets/js/10.c191a387.js" as="script"><link rel="prefetch" href="/javanote/assets/js/100.f858324b.js"><link rel="prefetch" href="/javanote/assets/js/101.cf545769.js"><link rel="prefetch" href="/javanote/assets/js/102.70c05b3a.js"><link rel="prefetch" href="/javanote/assets/js/103.f1004525.js"><link rel="prefetch" href="/javanote/assets/js/104.0d76607f.js"><link rel="prefetch" href="/javanote/assets/js/105.1706f100.js"><link rel="prefetch" href="/javanote/assets/js/106.c2ff977c.js"><link rel="prefetch" href="/javanote/assets/js/107.5aede27e.js"><link rel="prefetch" href="/javanote/assets/js/108.8ceb754f.js"><link rel="prefetch" href="/javanote/assets/js/109.0921def7.js"><link rel="prefetch" href="/javanote/assets/js/110.1b5f3a78.js"><link rel="prefetch" href="/javanote/assets/js/111.60c4a726.js"><link rel="prefetch" href="/javanote/assets/js/112.a779216c.js"><link rel="prefetch" href="/javanote/assets/js/113.b5d94b79.js"><link rel="prefetch" href="/javanote/assets/js/114.c6f877f7.js"><link rel="prefetch" href="/javanote/assets/js/115.47ecb381.js"><link rel="prefetch" href="/javanote/assets/js/116.92ec84e7.js"><link rel="prefetch" href="/javanote/assets/js/117.e4829b5a.js"><link rel="prefetch" href="/javanote/assets/js/118.b23c1a98.js"><link rel="prefetch" href="/javanote/assets/js/119.b43f94dd.js"><link rel="prefetch" href="/javanote/assets/js/12.fa4003f9.js"><link rel="prefetch" href="/javanote/assets/js/120.f30ed6c6.js"><link rel="prefetch" href="/javanote/assets/js/121.b0022ef6.js"><link rel="prefetch" href="/javanote/assets/js/122.8fffcc78.js"><link rel="prefetch" href="/javanote/assets/js/123.e3fa7a42.js"><link rel="prefetch" href="/javanote/assets/js/124.58e10cb2.js"><link rel="prefetch" href="/javanote/assets/js/125.1b49d5f0.js"><link rel="prefetch" href="/javanote/assets/js/126.7f8e276b.js"><link rel="prefetch" href="/javanote/assets/js/127.000a6e84.js"><link rel="prefetch" href="/javanote/assets/js/128.18177328.js"><link rel="prefetch" href="/javanote/assets/js/129.0a2b7f4e.js"><link rel="prefetch" href="/javanote/assets/js/13.c51f2bed.js"><link rel="prefetch" href="/javanote/assets/js/130.31bfbbdd.js"><link rel="prefetch" href="/javanote/assets/js/131.dab5fd7f.js"><link rel="prefetch" href="/javanote/assets/js/132.34fb1d32.js"><link rel="prefetch" href="/javanote/assets/js/133.3cc3cb6c.js"><link rel="prefetch" href="/javanote/assets/js/134.8b0d230c.js"><link rel="prefetch" href="/javanote/assets/js/135.905e9937.js"><link rel="prefetch" href="/javanote/assets/js/136.23e19c54.js"><link rel="prefetch" href="/javanote/assets/js/137.3c091787.js"><link rel="prefetch" href="/javanote/assets/js/138.83313b98.js"><link rel="prefetch" href="/javanote/assets/js/139.c8e9d90b.js"><link rel="prefetch" href="/javanote/assets/js/14.8fe80835.js"><link rel="prefetch" href="/javanote/assets/js/140.de3bddcd.js"><link rel="prefetch" href="/javanote/assets/js/141.1575c6e3.js"><link rel="prefetch" href="/javanote/assets/js/142.a6471307.js"><link rel="prefetch" href="/javanote/assets/js/143.ad7eb666.js"><link rel="prefetch" href="/javanote/assets/js/144.c43ced04.js"><link rel="prefetch" href="/javanote/assets/js/145.633601ea.js"><link rel="prefetch" href="/javanote/assets/js/146.b65b7a43.js"><link rel="prefetch" href="/javanote/assets/js/147.f6ba557e.js"><link rel="prefetch" href="/javanote/assets/js/148.046226ae.js"><link rel="prefetch" href="/javanote/assets/js/149.0ad83751.js"><link rel="prefetch" href="/javanote/assets/js/15.414ac078.js"><link rel="prefetch" href="/javanote/assets/js/150.230e4d1c.js"><link rel="prefetch" href="/javanote/assets/js/151.905804f3.js"><link rel="prefetch" href="/javanote/assets/js/152.154b514a.js"><link rel="prefetch" href="/javanote/assets/js/153.37aa1b21.js"><link rel="prefetch" href="/javanote/assets/js/154.76fcd840.js"><link rel="prefetch" href="/javanote/assets/js/155.684e2d46.js"><link rel="prefetch" href="/javanote/assets/js/156.2288654a.js"><link rel="prefetch" href="/javanote/assets/js/157.9550ddf7.js"><link rel="prefetch" href="/javanote/assets/js/158.6f176501.js"><link rel="prefetch" href="/javanote/assets/js/159.38b45246.js"><link rel="prefetch" href="/javanote/assets/js/16.f6bcfda9.js"><link rel="prefetch" href="/javanote/assets/js/160.24484228.js"><link rel="prefetch" href="/javanote/assets/js/161.f8a53ea7.js"><link rel="prefetch" href="/javanote/assets/js/162.91a5d72d.js"><link rel="prefetch" href="/javanote/assets/js/163.2ad88c09.js"><link rel="prefetch" href="/javanote/assets/js/164.4cefc831.js"><link rel="prefetch" href="/javanote/assets/js/165.96d54d27.js"><link rel="prefetch" href="/javanote/assets/js/166.3ced3f05.js"><link rel="prefetch" href="/javanote/assets/js/167.9fd4dada.js"><link rel="prefetch" href="/javanote/assets/js/168.64063340.js"><link rel="prefetch" href="/javanote/assets/js/169.49eefc79.js"><link rel="prefetch" href="/javanote/assets/js/17.5ebaaa3f.js"><link rel="prefetch" href="/javanote/assets/js/170.3938afd5.js"><link rel="prefetch" href="/javanote/assets/js/171.5eb5c5a0.js"><link rel="prefetch" href="/javanote/assets/js/172.a9e33ea2.js"><link rel="prefetch" href="/javanote/assets/js/173.98e6d831.js"><link rel="prefetch" href="/javanote/assets/js/174.03448352.js"><link rel="prefetch" href="/javanote/assets/js/175.64340ac0.js"><link rel="prefetch" href="/javanote/assets/js/176.2dc52060.js"><link rel="prefetch" href="/javanote/assets/js/177.bd69843e.js"><link rel="prefetch" href="/javanote/assets/js/178.59341490.js"><link rel="prefetch" href="/javanote/assets/js/179.cc35c0a6.js"><link rel="prefetch" href="/javanote/assets/js/18.62d03701.js"><link rel="prefetch" href="/javanote/assets/js/180.11ae1e52.js"><link rel="prefetch" href="/javanote/assets/js/181.3e438e5d.js"><link rel="prefetch" href="/javanote/assets/js/182.c53a8efc.js"><link rel="prefetch" href="/javanote/assets/js/183.8b441dfb.js"><link rel="prefetch" href="/javanote/assets/js/184.d7f6c4f5.js"><link rel="prefetch" href="/javanote/assets/js/185.b439d0f4.js"><link rel="prefetch" href="/javanote/assets/js/186.b68e5585.js"><link rel="prefetch" href="/javanote/assets/js/187.56de8200.js"><link rel="prefetch" href="/javanote/assets/js/188.841fcdf2.js"><link rel="prefetch" href="/javanote/assets/js/189.be2262c2.js"><link rel="prefetch" href="/javanote/assets/js/19.0efb6573.js"><link rel="prefetch" href="/javanote/assets/js/190.40a63f47.js"><link rel="prefetch" href="/javanote/assets/js/191.a61a7c80.js"><link rel="prefetch" href="/javanote/assets/js/192.88507421.js"><link rel="prefetch" href="/javanote/assets/js/193.d0a95520.js"><link rel="prefetch" href="/javanote/assets/js/194.c66644e0.js"><link rel="prefetch" href="/javanote/assets/js/195.fdaceef8.js"><link rel="prefetch" href="/javanote/assets/js/196.85a1da29.js"><link rel="prefetch" href="/javanote/assets/js/197.a0b73b7e.js"><link rel="prefetch" href="/javanote/assets/js/198.c46de3af.js"><link rel="prefetch" href="/javanote/assets/js/199.86ad5ea9.js"><link rel="prefetch" href="/javanote/assets/js/2.8a34de3e.js"><link rel="prefetch" href="/javanote/assets/js/20.25232ae5.js"><link rel="prefetch" href="/javanote/assets/js/200.3d524295.js"><link rel="prefetch" href="/javanote/assets/js/201.2352b044.js"><link rel="prefetch" href="/javanote/assets/js/202.c96b8ae2.js"><link rel="prefetch" href="/javanote/assets/js/203.344e4887.js"><link rel="prefetch" href="/javanote/assets/js/204.cedde8a4.js"><link rel="prefetch" href="/javanote/assets/js/205.76202206.js"><link rel="prefetch" href="/javanote/assets/js/206.c4406aa6.js"><link rel="prefetch" href="/javanote/assets/js/207.8a27b698.js"><link rel="prefetch" href="/javanote/assets/js/208.59f5b615.js"><link rel="prefetch" href="/javanote/assets/js/209.fd4a6c64.js"><link rel="prefetch" href="/javanote/assets/js/21.d432caaa.js"><link rel="prefetch" href="/javanote/assets/js/210.b0e3a8d1.js"><link rel="prefetch" href="/javanote/assets/js/211.7cb84367.js"><link rel="prefetch" href="/javanote/assets/js/212.e743f232.js"><link rel="prefetch" href="/javanote/assets/js/213.d50db884.js"><link rel="prefetch" href="/javanote/assets/js/214.6da86c20.js"><link rel="prefetch" href="/javanote/assets/js/215.fd5aa565.js"><link rel="prefetch" href="/javanote/assets/js/216.e95bcc55.js"><link rel="prefetch" href="/javanote/assets/js/217.2231449c.js"><link rel="prefetch" href="/javanote/assets/js/218.b8330003.js"><link rel="prefetch" href="/javanote/assets/js/219.aa7e9cf0.js"><link rel="prefetch" href="/javanote/assets/js/22.53113347.js"><link rel="prefetch" href="/javanote/assets/js/220.9ff6e0e6.js"><link rel="prefetch" href="/javanote/assets/js/23.2238c07a.js"><link rel="prefetch" href="/javanote/assets/js/24.cb7d3039.js"><link rel="prefetch" href="/javanote/assets/js/25.b4eaea24.js"><link rel="prefetch" href="/javanote/assets/js/26.e42a49f7.js"><link rel="prefetch" href="/javanote/assets/js/27.e7587f1f.js"><link rel="prefetch" href="/javanote/assets/js/28.19eae749.js"><link rel="prefetch" href="/javanote/assets/js/29.9ddf7186.js"><link rel="prefetch" href="/javanote/assets/js/3.e91a84a2.js"><link rel="prefetch" href="/javanote/assets/js/30.a380d83f.js"><link rel="prefetch" href="/javanote/assets/js/31.02c44506.js"><link rel="prefetch" href="/javanote/assets/js/32.e4bff71a.js"><link rel="prefetch" href="/javanote/assets/js/33.e26b4f6b.js"><link rel="prefetch" href="/javanote/assets/js/34.187f65f5.js"><link rel="prefetch" href="/javanote/assets/js/35.6cd623a3.js"><link rel="prefetch" href="/javanote/assets/js/36.c018db78.js"><link rel="prefetch" href="/javanote/assets/js/37.fd665c05.js"><link rel="prefetch" href="/javanote/assets/js/38.123aa35e.js"><link rel="prefetch" href="/javanote/assets/js/39.58271e1f.js"><link rel="prefetch" href="/javanote/assets/js/4.953d09eb.js"><link rel="prefetch" href="/javanote/assets/js/40.d588f7b4.js"><link rel="prefetch" href="/javanote/assets/js/41.330ac4ba.js"><link rel="prefetch" href="/javanote/assets/js/42.4d2bcc61.js"><link rel="prefetch" href="/javanote/assets/js/43.e446c0f3.js"><link rel="prefetch" href="/javanote/assets/js/44.77abc34b.js"><link rel="prefetch" href="/javanote/assets/js/45.910e4aa5.js"><link rel="prefetch" href="/javanote/assets/js/46.7f8fd6bb.js"><link rel="prefetch" href="/javanote/assets/js/47.9e340085.js"><link rel="prefetch" href="/javanote/assets/js/48.b4c35e1e.js"><link rel="prefetch" href="/javanote/assets/js/49.807495b7.js"><link rel="prefetch" href="/javanote/assets/js/5.fe579469.js"><link rel="prefetch" href="/javanote/assets/js/50.71cfb288.js"><link rel="prefetch" href="/javanote/assets/js/51.8da13592.js"><link rel="prefetch" href="/javanote/assets/js/52.cf90a64f.js"><link rel="prefetch" href="/javanote/assets/js/53.c685fb7a.js"><link rel="prefetch" href="/javanote/assets/js/54.7d73666a.js"><link rel="prefetch" href="/javanote/assets/js/55.59497bd7.js"><link rel="prefetch" href="/javanote/assets/js/56.22cdda6e.js"><link rel="prefetch" href="/javanote/assets/js/57.36f6ee91.js"><link rel="prefetch" href="/javanote/assets/js/58.6655543d.js"><link rel="prefetch" href="/javanote/assets/js/59.1d073e32.js"><link rel="prefetch" href="/javanote/assets/js/6.1af208a0.js"><link rel="prefetch" href="/javanote/assets/js/60.f782c216.js"><link rel="prefetch" href="/javanote/assets/js/61.4f05bcba.js"><link rel="prefetch" href="/javanote/assets/js/62.d607ed0e.js"><link rel="prefetch" href="/javanote/assets/js/63.0d7a42e8.js"><link rel="prefetch" href="/javanote/assets/js/64.ce15498e.js"><link rel="prefetch" href="/javanote/assets/js/65.b9f31598.js"><link rel="prefetch" href="/javanote/assets/js/66.aeff3690.js"><link rel="prefetch" href="/javanote/assets/js/67.f6f59ffa.js"><link rel="prefetch" href="/javanote/assets/js/68.f875e4ca.js"><link rel="prefetch" href="/javanote/assets/js/69.d6512b6b.js"><link rel="prefetch" href="/javanote/assets/js/7.5739f4db.js"><link rel="prefetch" href="/javanote/assets/js/70.881dc1cf.js"><link rel="prefetch" href="/javanote/assets/js/71.263db750.js"><link rel="prefetch" href="/javanote/assets/js/72.58f08a97.js"><link rel="prefetch" href="/javanote/assets/js/73.df9399d4.js"><link rel="prefetch" href="/javanote/assets/js/74.1d6ddc56.js"><link rel="prefetch" href="/javanote/assets/js/75.fcb30922.js"><link rel="prefetch" href="/javanote/assets/js/76.46a74eb4.js"><link rel="prefetch" href="/javanote/assets/js/77.b5e7728c.js"><link rel="prefetch" href="/javanote/assets/js/78.fcc34355.js"><link rel="prefetch" href="/javanote/assets/js/79.9d5204da.js"><link rel="prefetch" href="/javanote/assets/js/8.26c83b6c.js"><link rel="prefetch" href="/javanote/assets/js/80.672a4f74.js"><link rel="prefetch" href="/javanote/assets/js/81.78acaf25.js"><link rel="prefetch" href="/javanote/assets/js/82.7755c8c3.js"><link rel="prefetch" href="/javanote/assets/js/83.9b495285.js"><link rel="prefetch" href="/javanote/assets/js/84.a1270bb3.js"><link rel="prefetch" href="/javanote/assets/js/85.64d4eb9a.js"><link rel="prefetch" href="/javanote/assets/js/86.9cd6604e.js"><link rel="prefetch" href="/javanote/assets/js/87.588e06ac.js"><link rel="prefetch" href="/javanote/assets/js/88.8dad582a.js"><link rel="prefetch" href="/javanote/assets/js/89.b19689ac.js"><link rel="prefetch" href="/javanote/assets/js/9.51e5d2e7.js"><link rel="prefetch" href="/javanote/assets/js/90.586b9559.js"><link rel="prefetch" href="/javanote/assets/js/91.c9188033.js"><link rel="prefetch" href="/javanote/assets/js/92.69a38839.js"><link rel="prefetch" href="/javanote/assets/js/93.f0c9bdcd.js"><link rel="prefetch" href="/javanote/assets/js/94.f8f6b855.js"><link rel="prefetch" href="/javanote/assets/js/95.a92c2c02.js"><link rel="prefetch" href="/javanote/assets/js/96.ab442531.js"><link rel="prefetch" href="/javanote/assets/js/97.8a60e627.js"><link rel="prefetch" href="/javanote/assets/js/98.3eed55eb.js"><link rel="prefetch" href="/javanote/assets/js/99.b9c138ea.js">
    <link rel="stylesheet" href="/javanote/assets/css/0.styles.1d83b9a0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/javanote/" class="home-link router-link-active"><!----> <span class="site-name">Java全栈</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/basic/java/day01/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/linux/background/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/mysql/mysql-basic/" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/web/WEBday01_HTML-CSS/" class="nav-link">
  web
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="高级" class="dropdown-title"><span class="title">高级</span> <span class="arrow down"></span></button> <button type="button" aria-label="高级" class="mobile-dropdown-title"><span class="title">高级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/advance/juc/chapter01/" class="nav-link">
  JUC
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/advance/jvm/chapter01/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/advance/mysql/chapter01/" class="nav-link">
  MYSQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/rabbitmq/day01/" class="nav-link">
  rabbitmq
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/elasticsearch/day01/" class="nav-link">
  elasticsearch
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/nginx/" class="nav-link">
  nginx
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><span class="title">微服务</span> <span class="arrow down"></span></button> <button type="button" aria-label="微服务" class="mobile-dropdown-title"><span class="title">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/springboot/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/springcloud/day01/" class="nav-link">
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/distributed-transaction/" class="nav-link">
  分布式事务
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/tools/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/tools/maven/maven-overview/" class="nav-link">
  maven
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ssm" class="dropdown-title"><span class="title">ssm</span> <span class="arrow down"></span></button> <button type="button" aria-label="ssm" class="mobile-dropdown-title"><span class="title">ssm</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/mybatis/preface/" class="nav-link">
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/spring/AOP-aspect-oriented-programming/agency-model/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/springmvc/basic-function/" class="nav-link">
  springmvc
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/others/cryptography/" class="nav-link">
  密码学
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="基础" class="mobile-dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/basic/java/day01/" class="nav-link">
  Java
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/linux/background/" class="nav-link">
  linux
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/mysql/mysql-basic/" class="nav-link">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/basic/web/WEBday01_HTML-CSS/" class="nav-link">
  web
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="高级" class="dropdown-title"><span class="title">高级</span> <span class="arrow down"></span></button> <button type="button" aria-label="高级" class="mobile-dropdown-title"><span class="title">高级</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/advance/juc/chapter01/" class="nav-link">
  JUC
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/advance/jvm/chapter01/" class="nav-link">
  JVM
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/advance/mysql/chapter01/" class="nav-link">
  MYSQL
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/rabbitmq/day01/" class="nav-link">
  rabbitmq
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/elasticsearch/day01/" class="nav-link">
  elasticsearch
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/redis/" class="nav-link">
  Redis
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/middleware/nginx/" class="nav-link">
  nginx
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="微服务" class="dropdown-title"><span class="title">微服务</span> <span class="arrow down"></span></button> <button type="button" aria-label="微服务" class="mobile-dropdown-title"><span class="title">微服务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/springboot/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  springboot
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/springcloud/day01/" class="nav-link">
  springcloud
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/docker/" class="nav-link">
  Docker
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/microservice/distributed-transaction/" class="nav-link">
  分布式事务
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="工具" class="mobile-dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/tools/git/" class="nav-link">
  git
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/tools/maven/maven-overview/" class="nav-link">
  maven
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ssm" class="dropdown-title"><span class="title">ssm</span> <span class="arrow down"></span></button> <button type="button" aria-label="ssm" class="mobile-dropdown-title"><span class="title">ssm</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/mybatis/preface/" class="nav-link">
  mybatis
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/spring/AOP-aspect-oriented-programming/agency-model/" class="nav-link">
  spring
</a></li><li class="dropdown-item"><!----> <a href="/javanote/note/ssm/springmvc/basic-function/" class="nav-link">
  springmvc
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javanote/note/others/cryptography/" class="nav-link">
  密码学
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/javanote/note/microservice/springboot/" aria-current="page" class="active sidebar-link">SpringBoot基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/javanote/note/microservice/springboot/#一、springboot简介" class="sidebar-link">一、SpringBoot简介</a></li><li class="sidebar-sub-header"><a href="/javanote/note/microservice/springboot/#二、springboot快速入门" class="sidebar-link">二、SpringBoot快速入门</a></li><li class="sidebar-sub-header"><a href="/javanote/note/microservice/springboot/#三、springboot原理分析" class="sidebar-link">三、SpringBoot原理分析</a></li><li class="sidebar-sub-header"><a href="/javanote/note/microservice/springboot/#四、springboot的配置文件" class="sidebar-link">四、SpringBoot的配置文件</a></li><li class="sidebar-sub-header"><a href="/javanote/note/microservice/springboot/#五、springboot与整合其他技术" class="sidebar-link">五、SpringBoot与整合其他技术</a></li></ul></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>springcloud</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/javanote/note/microservice/distributed-transaction/" class="sidebar-link">分布式事务</a></li><li><a href="/javanote/note/microservice/docker/" class="sidebar-link">Docker 简介</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="springboot基础"><a href="#springboot基础" class="header-anchor">#</a> SpringBoot基础</h1> <h2 id="一、springboot简介"><a href="#一、springboot简介" class="header-anchor">#</a> 一、SpringBoot简介</h2> <h3 id="_1-2-springboot的概述"><a href="#_1-2-springboot的概述" class="header-anchor">#</a> 1.2 SpringBoot的概述</h3> <h4 id="_1-2-1-什么是spring-boot"><a href="#_1-2-1-什么是spring-boot" class="header-anchor">#</a> 1.2.1 什么是Spring Boot</h4> <p>Spring Boot 是所有基于 Spring Framework 5.0 开发的项目。Spring Boot 的设计是为了让你尽可能快的跑起来 Spring 应用程序，并且尽可能减少你的配置文件。</p> <p>设计目的： 用来简化 Spring 应用的初始搭建以及开发过程。</p> <p>从最根本上来讲，Spring Boot 就是一些库的集合，它能够被任意项目所使用。它使用 “习惯优于配置” （项目中存在大量的配置，此外还内置一个习惯性的配置）的理念让你的项目快速运行起来。spring boot 其实不是什么新的框架，它默认配置了很多框架的使用方式，就像 maven 整合了所有的 jar 包，spring boot 整合了所有的框架，总结一下及几点：</p> <ul><li><p>为所有 Spring 开发提供一个更快更广泛的入门体验。</p></li> <li><p>零配置。无冗余代码生成和XML 强制配置，遵循“约定大于配置” 。</p></li> <li><p>集成了大量常用的第三方库的配置， Spring Boot 应用为这些第三方库提供了几乎可以零配置的开箱即用的能力。</p></li> <li><p>提供一系列大型项目常用的非功能性特征，如嵌入服务器等。</p></li></ul> <p>使用 Spring Boot有什么好处</p> <p>其实就是简单、快速、方便！平时如果我们需要搭建一个 Spring Web 项目的时候需要怎么做呢？</p> <ol><li>配置 web.xml，加载 Spring 和 Spring mvc</li> <li>配置数据库连接、配置 Spring 事务</li> <li>配置加载配置文件的读取，开启注解</li> <li>配置日志文件</li></ol> <p>…</p> <p>配置完成之后部署 Tomcat 调试</p> <p>…</p> <p>现在非常流行微服务，如果我这个项目仅仅只是需要发送一个邮件，如果我的项目仅仅是生产一个积分；我都需要这样折腾一遍!</p> <p>但是如果使用 Spring Boot 呢？</p> <p>很简单，我仅仅只需要非常少的几个配置就可以迅速方便的搭建起来一套 Web 项目或者是构建一个微服务！</p> <h4 id="_1-2-2-springboot的特点"><a href="#_1-2-2-springboot的特点" class="header-anchor">#</a> 1.2.2 SpringBoot的特点</h4> <p>为基于Spring的开发提供更快的入门体验</p> <p>开箱即用，没有代码生成，也无需XML配置。同时也可以修改默认值来满足特定的需求</p> <p>提供了一些大型项目中常见的非功能性特性，如嵌入式服务器、外部配置等</p> <p>SpringBoot不是对Spring功能上的增强，而是提供了一种快速使用Spring的方式</p> <h4 id="_1-2-3-springboot的核心功能"><a href="#_1-2-3-springboot的核心功能" class="header-anchor">#</a> 1.2.3 SpringBoot的核心功能</h4> <p>起步依赖</p> <p>起步依赖本质上是一个Maven项目对象模型（Project Object Model，POM），定义了对其他库的传递依赖，这些东西加在一起即支持某项功能。</p> <p>简单的说，起步依赖就是将具备某种功能的坐标打包到一起，并提供一些默认的功能。</p> <p>自动配置</p> <p>Spring Boot的自动配置是一个运行时（更准确地说，是应用程序启动时）的过程，考虑了众多因素，才决定Spring配置应该用哪个，不该用哪个。该过程是Spring自动完成的。</p> <h2 id="二、springboot快速入门"><a href="#二、springboot快速入门" class="header-anchor">#</a> 二、SpringBoot快速入门</h2> <h3 id="_2-1-代码实现"><a href="#_2-1-代码实现" class="header-anchor">#</a> 2.1 代码实现</h3> <h4 id="_2-1-1-创建maven工程"><a href="#_2-1-1-创建maven工程" class="header-anchor">#</a> 2.1.1 创建Maven工程</h4> <p>使用idea工具创建一个maven工程，该工程为普通的java工程即可</p> <p><img alt="images" data-src="/javanote/assets/img/2.55790cd4.png" loading="lazy" class="lazy"></p> <p>创建项目 springboot_demo01</p> <p><img alt="images" data-src="/javanote/assets/img/3.4402743c.png" loading="lazy" class="lazy"></p> <p><img alt="images" data-src="/javanote/assets/img/4.92f189bf.png" loading="lazy" class="lazy"></p> <h4 id="_2-1-2-添加springboot的起步依赖"><a href="#_2-1-2-添加springboot的起步依赖" class="header-anchor">#</a> 2.1.2 添加SpringBoot的起步依赖</h4> <p>添加pom文件</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.maweiqi<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>springboot_demo01<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!--父工程--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1.6.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--web起步包
         注意：虽然是web工程，但不需要打war包，直接打jar就行
        --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><img alt="images" data-src="/javanote/assets/img/5.a2ff36e3.png" loading="lazy" class="lazy"></p> <h4 id="_2-1-3-编写springboot引导类"><a href="#_2-1-3-编写springboot引导类" class="header-anchor">#</a> 2.1.3 编写SpringBoot引导类</h4> <p>要通过SpringBoot提供的引导类起步SpringBoot才可以进行访问</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>

<span class="token comment">// 声明该类是一个SpringBoot引导类</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySpringBootApplication</span> <span class="token punctuation">{</span>
    <span class="token comment">// main是java程序的入口</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// run方法 表示运行SpringBoot的引导类 run参数就是SpringBoot引导类的字节码对象</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MySpringBootApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-1-4-编写controller"><a href="#_2-1-4-编写controller" class="header-anchor">#</a> 2.1.4 编写Controller</h4> <p>在引导类MySpringBootApplication同级包或者子级包中创建QuickStartController</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QuickStartController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/quick&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">quick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;springboot 访问成功!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_2-1-5-测试"><a href="#_2-1-5-测试" class="header-anchor">#</a> 2.1.5 测试</h4> <p>执行SpringBoot起步类的主方法，控制台打印日志如下：</p> <p><img alt="images" data-src="/javanote/assets/img/6.99ec7a9c.png" loading="lazy" class="lazy"></p> <p>通过日志发现，Tomcat started on port(s): 8080 (http) with context path ’’</p> <p>tomcat已经起步，端口监听8080，web应用的虚拟工程名称为空（默认“/”）</p> <p>打开浏览器访问url地址为：http://localhost:8080/quick</p> <p><img alt="images" data-src="/javanote/assets/img/7.2ef69191.png" loading="lazy" class="lazy"></p> <p>可以发现我们省去了springmvc.xml的配置。</p> <h3 id="_2-2-快速入门解析"><a href="#_2-2-快速入门解析" class="header-anchor">#</a> 2.2 快速入门解析</h3> <h4 id="_2-2-2-springboot代码解析"><a href="#_2-2-2-springboot代码解析" class="header-anchor">#</a> 2.2.2 SpringBoot代码解析</h4> <p>@SpringBootApplication：标注SpringBoot的启动类，该注解具备多种功能（后面详细剖析）</p> <p>SpringApplication.run(MySpringBootApplication.class) 代表运行SpringBoot的启动类，参数为SpringBoot启动类的字节码对象</p> <h4 id="_2-2-3-springboot工程热部署"><a href="#_2-2-3-springboot工程热部署" class="header-anchor">#</a> 2.2.3 SpringBoot工程热部署</h4> <p>我们在开发中反复修改类、页面等资源，每次修改后都是需要重新启动才生效，这样每次启动都很麻烦，浪费了大量的时间，我们可以在修改代码后不重启就能生效，在 pom.xml 中添加如下配置就可以实现这样的功能，我们称之为热部署。</p> <p><img alt="images" data-src="/javanote/assets/img/8.c9acaa7a.png" loading="lazy" class="lazy"></p> <div class="language-xml extra-class"><pre class="language-xml"><code>
<span class="token comment">&lt;!--热部署配置--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>开启 Intellij IEDA 自动编译，需要对IDEA进行自动编译的设置，如下：</p> <p><img alt="images" data-src="/javanote/assets/img/9.b2531596.png" loading="lazy" class="lazy"></p> <p>正常情况下就可以进行热部署， 如果还是不行，在加入如下操作，如果已经可以热部署，就不需要看后面的操作</p> <p>然后 Shift+Ctrl+Alt+/，选择Registry</p> <p><img alt="images" data-src="/javanote/assets/img/10.cb6dc59e.png" loading="lazy" class="lazy"></p> <p><img alt="images" data-src="/javanote/assets/img/11.42f4bec5.png" loading="lazy" class="lazy"></p> <h4 id="_2-2-4-使用idea快速创建springboot项目"><a href="#_2-2-4-使用idea快速创建springboot项目" class="header-anchor">#</a> 2.2.4 使用idea快速创建SpringBoot项目</h4> <p><img alt="images" data-src="/javanote/assets/img/12.92c3eb29.png" loading="lazy" class="lazy"></p> <p><img alt="images" data-src="/javanote/assets/img/13.29eed992.png" loading="lazy" class="lazy"></p> <p><img alt="images" data-src="/javanote/assets/img/14.ee8adc8a.png" loading="lazy" class="lazy"></p> <p><img alt="images" data-src="/javanote/assets/img/15.50bff638.png" loading="lazy" class="lazy"></p> <p>通过idea快速创建的SpringBoot项目的pom.xml中已经导入了我们选择的web的起步依赖的坐标</p> <details class="custom-block details"><summary>详情</summary> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.atguigu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>springboot_demo02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.0.1-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>springboot_demo02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Demo project for Spring Boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.junit.vintage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit-vintage-engine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <p>可以使用快速入门的方式创建Controller进行访问，此处不再赘述</p> <h2 id="三、springboot原理分析"><a href="#三、springboot原理分析" class="header-anchor">#</a> 三、SpringBoot原理分析</h2> <h3 id="_3-1-起步依赖原理分析"><a href="#_3-1-起步依赖原理分析" class="header-anchor">#</a> 3.1 起步依赖原理分析</h3> <h4 id="_3-1-1-分析spring-boot-starter-parent"><a href="#_3-1-1-分析spring-boot-starter-parent" class="header-anchor">#</a> 3.1.1 分析spring-boot-starter-parent</h4> <p>按住Ctrl点击pom.xml中的spring-boot-starter-parent，跳转到了spring-boot-starter-parent的pom.xml，xml配置如下（只摘抄了部分重点配置）：</p> <p><img alt="images" data-src="/javanote/assets/img/16.22d77ebb.png" loading="lazy" class="lazy"></p> <p>按住Ctrl点击pom.xml中的spring-boot-starter-dependencies，跳转到了spring-boot-starter-dependencies的pom.xml，xml配置如下（只摘抄了部分重点配置）：</p> <details class="custom-block details"><summary>详情</summary> <div class="language-xml extra-class"><pre class="language-xml"><code>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activemq.version</span><span class="token punctuation">&gt;</span></span>5.15.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activemq.version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>antlr2.version</span><span class="token punctuation">&gt;</span></span>2.7.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>antlr2.version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appengine-sdk.version</span><span class="token punctuation">&gt;</span></span>1.9.63<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appengine-sdk.version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artemis.version</span><span class="token punctuation">&gt;</span></span>2.4.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artemis.version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>aspectj.version</span><span class="token punctuation">&gt;</span></span>1.8.13<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>aspectj.version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>assertj.version</span><span class="token punctuation">&gt;</span></span>3.9.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>assertj.version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>atomikos.version</span><span class="token punctuation">&gt;</span></span>4.0.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>atomikos.version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bitronix.version</span><span class="token punctuation">&gt;</span></span>2.1.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bitronix.version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build-helper-maven-plugin.version</span><span class="token punctuation">&gt;</span></span>3.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build-helper-maven-plugin.version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>byte-buddy.version</span><span class="token punctuation">&gt;</span></span>1.7.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>byte-buddy.version</span><span class="token punctuation">&gt;</span></span>
  	... ... ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
      	... ... ...
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
        		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.jetbrains.kotlin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>kotlin-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${kotlin.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
        		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.jooq<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jooq-codegen-maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${jooq.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
        		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
          	... ... ...
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pluginManagement</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <p>总结：从上面的spring-boot-starter-dependencies的pom.xml中我们可以发现，一部分坐标的版本、依赖管理、插件管理已经定义好，所以我们的SpringBoot工程继承spring-boot-starter-parent后已经具备版本锁定等配置了（不会出现版本冲突的问题）。所以起步依赖的作用就是进行依赖的传递。</p> <h4 id="_3-1-2-分析spring-boot-starter-web"><a href="#_3-1-2-分析spring-boot-starter-web" class="header-anchor">#</a> 3.1.2 分析spring-boot-starter-web</h4> <p>不是所有的jar都传递，需要指定，用到哪个jar包，导入哪个jar包。</p> <p><img alt="images" data-src="/javanote/assets/img/17.711496a7.png" loading="lazy" class="lazy"></p> <p>按住Ctrl点击pom.xml中的spring-boot-starter-web，跳转到了spring-boot-starter-web的pom.xml，xml配置如下（只摘抄了部分重点配置）：</p> <details class="custom-block details"><summary>详情</summary> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starters<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>Spring Boot Web Starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>

  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-json<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-tomcat<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.hibernate.validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hibernate-validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>6.0.9.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.0.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-webmvc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.0.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
      		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>compile<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <p>总结：从上面的spring-boot-starter-web的pom.xml中我们可以发现，spring-boot-starter-web就是将web开发要使用的spring-web、spring-webmvc等坐标进行了“打包”，这样我们的工程只要引入spring-boot-starter-web起步依赖的坐标就可以进行web开发了，同样体现了依赖传递的作用，同时加载tomcat，只要启动main方法，就相当于起到tomcat进行开发；同时加载json，支持springmvc的数据请求和响应。</p> <h3 id="_3-2-自动配置原理解析"><a href="#_3-2-自动配置原理解析" class="header-anchor">#</a> 3.2 自动配置原理解析</h3> <details class="custom-block details"><summary>详情</summary> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ApplicationContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ConfigurableApplicationContext</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringbootDemo02Application</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> act <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringbootDemo02Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> name <span class="token operator">:</span> act<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div></details> <p>运行默认自动配置加载的对象</p> <p><img alt="images" data-src="/javanote/assets/img/18.b4f65866.png" loading="lazy" class="lazy"></p> <p>按住Ctrl点击查看启动类MySpringBootApplication上的注解@SpringBootApplication</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySpringBootApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MySpringBootApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注解@SpringBootApplication的源码</p> <p>@SpringBootApplication封装spring注解的复合注解，包含@ComponentScan，和@SpringBootConfiguration，@EnableAutoConfiguration</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Inherited</span>
<span class="token annotation punctuation">@SpringBootConfiguration</span>
<span class="token annotation punctuation">@EnableAutoConfiguration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>excludeFilters <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span>CUSTOM<span class="token punctuation">,</span> classes <span class="token operator">=</span> <span class="token class-name">TypeExcludeFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token annotation punctuation">@Filter</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">FilterType</span><span class="token punctuation">.</span>CUSTOM<span class="token punctuation">,</span> classes <span class="token operator">=</span> <span class="token class-name">AutoConfigurationExcludeFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">SpringBootApplication</span> <span class="token punctuation">{</span>

	<span class="token comment">/**
	 * Exclude specific auto-configuration classes such that they will never be applied.
	 * @return the classes to exclude
	 */</span>
	<span class="token annotation punctuation">@AliasFor</span><span class="token punctuation">(</span>annotation <span class="token operator">=</span> <span class="token class-name">EnableAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
	<span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">exclude</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//......</span>

<span class="token punctuation">}</span>
</code></pre></div><p>其中，</p> <p>点进 @SpringBootApplication 注解后我们重点关注最后三个注解</p> <p>@ComponentScan（包扫描）</p> <p>component是组件，scan是扫描，所以这个注解的含义就是用来扫描组件的，</p> <p>componentScan 扫描当前包及其子包下被 @Component，@Controller，@Service，@Repository注解标记的类并纳入到spring容器中进行管理，所以这个注解会自动注入所有在主程序所在包下的组件。默认把当前启动类所在的包作为扫描包的起点，例如咱们的项目，扫描 com.maweiqi 包</p> <p>以前在ssm项目中我们需要去配置我们的包扫描</p> <p><code>&lt;context:component-scan base-package=&quot;com.xxx&quot;&gt;&lt;/context:component-scan&gt;</code></p> <p>@SpringBootConfiguration : 表示当前类具有配置类的作用</p> <p>按住Ctrl点击查看注解 @EnableAutoConfiguration</p> <p>自动配置：根据当前引入的依赖包，猜测需要创建的工程类型，以及工程中有可能创建的对象，根据猜测自动创建工程所需的相关实例bean</p> <p>程序启动，会自动加载扫描所有 classpath:/META-INF/spring.factories文件 ，并且创建对应实例</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span>TYPE<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span>RUNTIME<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Documented</span>
<span class="token annotation punctuation">@Inherited</span>
<span class="token annotation punctuation">@AutoConfigurationPackage</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token class-name">AutoConfigurationImportSelector</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">EnableAutoConfiguration</span> <span class="token punctuation">{</span>
	<span class="token comment">//... ... ...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中，@Import(AutoConfigurationImportSelector.class) 导入了 AutoConfigurationImportSelector 类</p> <p>按住Ctrl点击查看 AutoConfigurationImportSelector 源码 , 加载元数据</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">selectImports</span><span class="token punctuation">(</span><span class="token class-name">AnnotationMetadata</span> annotationMetadata<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token class-name">AutoConfigurationEntry</span> autoConfigurationEntry <span class="token operator">=</span> <span class="token function">getAutoConfigurationEntry</span><span class="token punctuation">(</span>autoConfigurationMetadata<span class="token punctuation">,</span>
            annotationMetadata<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">return</span> <span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">toStringArray</span><span class="token punctuation">(</span>autoConfigurationEntry<span class="token punctuation">.</span><span class="token function">getConfigurations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">protected</span> <span class="token class-name">AutoConfigurationEntry</span> <span class="token function">getAutoConfigurationEntry</span><span class="token punctuation">(</span><span class="token class-name">AutoConfigurationMetadata</span> autoConfigurationMetadata<span class="token punctuation">,</span>
        <span class="token class-name">AnnotationMetadata</span> annotationMetadata<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> configurations <span class="token operator">=</span> <span class="token function">getCandidateConfigurations</span><span class="token punctuation">(</span>annotationMetadata<span class="token punctuation">,</span> attributes<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>

<span class="token keyword">protected</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getCandidateConfigurations</span><span class="token punctuation">(</span><span class="token class-name">AnnotationMetadata</span> metadata<span class="token punctuation">,</span> <span class="token class-name">AnnotationAttributes</span> attributes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 在META-INF/spring.factories中找不到自动配置类。需要看看文件是否正确</span>
<span class="token string">&quot;No auto configuration classes found in META-INF/spring.factories. If you &quot;</span>
            <span class="token operator">+</span> <span class="token string">&quot;are using a custom packaging, make sure that file is correct.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> configurations<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中，SpringFactoriesLoader.loadFactoryNames 方法的作用就是从META-INF/spring.factories文件中读取指定类对应的类名称列表</p> <p><img alt="images" data-src="/javanote/assets/img/19.cd336bbe.png" loading="lazy" class="lazy"></p> <p>spring.factories 文件中有关自动配置的配置信息如下：摘抄重点，springboot 启动之后，会自动加载 dispatcherServlet</p> <p>... ... ...</p> <p>org.springframework.boot.autoconfigure. EnableAutoConfiguration=<br>
org.springframework.boot.autoconfigure.web.servlet. DispatcherServletAutoConfiguration, <br>
... ... ...</p> <p>上面配置文件存在大量的以 Configuration 为结尾的类名称，这些类就是存有自动配置信息的类，而SpringApplication 在获取这些类名后再加载</p> <p>我们以 DispatcherServletAutoConfiguration 为例来分析：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@AutoConfigureOrder</span><span class="token punctuation">(</span><span class="token class-name">Ordered</span><span class="token punctuation">.</span>HIGHEST_PRECEDENCE<span class="token punctuation">)</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ConditionalOnWebApplication</span><span class="token punctuation">(</span>type <span class="token operator">=</span> <span class="token class-name">Type</span><span class="token punctuation">.</span>SERVLET<span class="token punctuation">)</span>
<span class="token annotation punctuation">@ConditionalOnClass</span><span class="token punctuation">(</span><span class="token class-name">DispatcherServlet</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@AutoConfigureAfter</span><span class="token punctuation">(</span><span class="token class-name">ServletWebServerFactoryAutoConfiguration</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DispatcherServletAutoConfiguration</span> <span class="token punctuation">{</span>

	<span class="token comment">/*
	 * The bean name for a DispatcherServlet that will be mapped to the root URL &quot;/&quot;
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> DEFAULT_DISPATCHER_SERVLET_BEAN_NAME <span class="token operator">=</span> <span class="token string">&quot;dispatcherServlet&quot;</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-3-举例自动配置"><a href="#_3-3-举例自动配置" class="header-anchor">#</a> 3.3 举例自动配置</h3> <p>新建包 com.atguigu.pojo , 创建类 User</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ApplicationContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ConfigurableApplicationContext</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringbootDemo02Application</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> act <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringbootDemo02Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> name <span class="token operator">:</span> act<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>在 resources文件夹下面 新建 /META-INF/spring.factories 文件</p> <p>org.springframework.boot.autoconfigure. EnableAutoConfiguration=com.atguigu.pojo. User</p> <p>运行程序</p> <p><img alt="images" data-src="/javanote/assets/img/20.28aa0f95.png" loading="lazy" class="lazy"></p> <h2 id="四、springboot的配置文件"><a href="#四、springboot的配置文件" class="header-anchor">#</a> 四、SpringBoot的配置文件</h2> <h3 id="_4-1-springboot配置文件类型"><a href="#_4-1-springboot配置文件类型" class="header-anchor">#</a> 4.1 SpringBoot配置文件类型</h3> <h4 id="_4-1-1-springboot配置文件类型和作用"><a href="#_4-1-1-springboot配置文件类型和作用" class="header-anchor">#</a> 4.1.1 SpringBoot配置文件类型和作用</h4> <p>SpringBoot是基于约定的，所以很多配置都有默认值，但如果想使用自己的配置替换默认配置的话，就可以使用application.properties或者application.yml（application.yaml）进行配置。</p> <p>SpringBoot默认会从Resources目录下加载application.properties或application.yml（application.yaml）文件</p> <p>其中，application.properties文件是键值对类型的文件，之前一直在使用，所以此处不在对properties文件的格式进行阐述。除了properties文件外，SpringBoot还可以使用yml文件进行配置，下面对yml文件进行讲解。</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># tomcat 端口号</span>

<span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">18081</span>

<span class="token comment"># 配置项目所在的根目录</span>

<span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/springboot-demo02</span>

</code></pre></div><p><img alt="images" data-src="/javanote/assets/img/21.47cf0809.png" loading="lazy" class="lazy"></p> <p>新建controller</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/save&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;save&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>运行程序</p> <p><img alt="images" data-src="/javanote/assets/img/22.b7f2b2f1.png" loading="lazy" class="lazy"></p> <p>同级目录下打开：spring-configuration-metadata.json</p> <p><img alt="images" data-src="/javanote/assets/img/23.fb59351d.png" loading="lazy" class="lazy"></p> <p>搜素：server.port</p> <p><img alt="images" data-src="/javanote/assets/img/24.88931613.png" loading="lazy" class="lazy"></p> <p>为什么可以在resources下创建application.properties文件呢？我们查看springboot的启动依赖：</p> <p><img alt="images" data-src="/javanote/assets/img/25.b03bf58f.png" loading="lazy" class="lazy"></p> <p>点击spring-boot-starter-parent</p> <p><img alt="images" data-src="/javanote/assets/img/26.62587dc3.png" loading="lazy" class="lazy"></p> <p>发现除了可以使用 application.propertes 文件，也可以使用 application.yml 或者 application.yaml 文件。</p> <h4 id="_4-1-2-application-yml配置文件"><a href="#_4-1-2-application-yml配置文件" class="header-anchor">#</a> 4.1.2 application.yml配置文件</h4> <h5 id="_4-1-2-1-yml配置文件简介"><a href="#_4-1-2-1-yml配置文件简介" class="header-anchor">#</a> 4.1.2.1 yml配置文件简介</h5> <p>YML文件格式是YAML (YAML Aint Markup Language)编写的文件格式，YAML是一种直观的能够被电脑识别的的数据数据序列化格式，并且容易被人类阅读，容易和脚本语言交互的，可以被支持YAML库的不同的编程语言程序导入，比如： C/C++, Ruby, Python, Java, Perl, C#, PHP等。YML文件是以数据为核心的，比传统的xml方式更加简洁。</p> <p>YML文件的扩展名可以使用.yml或者.yaml。</p> <h5 id="_4-1-2-2-yml配置文件的语法"><a href="#_4-1-2-2-yml配置文件的语法" class="header-anchor">#</a> 4.1.2.2 yml配置文件的语法</h5> <h6 id="_4-1-2-2-1-配置普通数据"><a href="#_4-1-2-2-1-配置普通数据" class="header-anchor">#</a> 4.1.2.2.1 配置普通数据</h6> <p>示例代码：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code>
<span class="token comment"># 属性的配置</span>
<span class="token comment"># 语法： key: value</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> maweiqi
</code></pre></div><p>注意：value之前有一个空格</p> <p>在resource文件夹下面，新建application.yml文件</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">18082</span>
</code></pre></div><h6 id="_4-1-2-2-2-配置对象数据"><a href="#_4-1-2-2-2-配置对象数据" class="header-anchor">#</a> 4.1.2.2.2 配置对象数据</h6> <p>语法：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code>
<span class="token key atrule">key</span><span class="token punctuation">:</span>
     <span class="token key atrule">key1</span><span class="token punctuation">:</span> value1
     <span class="token key atrule">key2</span><span class="token punctuation">:</span> value2
</code></pre></div><p>或者：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">key</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">key1</span><span class="token punctuation">:</span> value1<span class="token punctuation">,</span><span class="token key atrule">key2</span><span class="token punctuation">:</span> value2<span class="token punctuation">}</span>
</code></pre></div><p>在resource文件夹下面新建 application.yml 文件</p> <p>注意：key1前面的空格个数不限定，在yml语法中，相同缩进代表同一个级别，一般按一下tab键</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">18082</span>
<span class="token key atrule">user</span><span class="token punctuation">:</span>
  <span class="token key atrule">username</span><span class="token punctuation">:</span> zhangsan
  <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123</span>
</code></pre></div><p>user类，通过注解 @ConfigurationProperties (prefix=“配置文件中的key的前缀”)可以将配置文件中的配置自动与实体进行映射</p> <div class="language-java extra-class"><pre class="language-java"><code> <span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">{</span>

	<span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

	<span class="token comment">//生成 set get  tostring</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img alt="images" data-src="/javanote/assets/img/27.9d15ff60.png" loading="lazy" class="lazy"></p> <p>报错提示，请在pom文件添加配置信息</p> <p><img alt="images" data-src="data:image/png;base64,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" loading="lazy" class="lazy"></p> <p>在pom文件添加如下配置</p> <h1 id="读取配置文件注解"><a href="#读取配置文件注解" class="header-anchor">#</a> 读取配置文件注解</h1> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>修改 SpringbootDemo02Application</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ApplicationContext</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ConfigurableApplicationContext</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringbootDemo02Application</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> act <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringbootDemo02Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> act<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>运行程序</p> <p><img alt="images" data-src="/javanote/assets/img/29.63d5817f.png" loading="lazy" class="lazy"></p> <h6 id="_4-1-2-2-2-配置map数据"><a href="#_4-1-2-2-2-配置map数据" class="header-anchor">#</a> 4.1.2.2.2 配置Map数据</h6> <h1 id="语法"><a href="#语法" class="header-anchor">#</a> 语法：</h1> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">map</span><span class="token punctuation">:</span>
    <span class="token key atrule">key</span><span class="token punctuation">:</span> value1
    <span class="token key atrule">key</span><span class="token punctuation">:</span> value2
</code></pre></div><p>示例代码：</p> <h1 id="map结构"><a href="#map结构" class="header-anchor">#</a> map结构</h1> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">map</span><span class="token punctuation">:</span>
  <span class="token key atrule">key1</span><span class="token punctuation">:</span> value1
  <span class="token key atrule">key2</span><span class="token punctuation">:</span> value2
</code></pre></div><h6 id="_4-1-2-2-3-配置数组-list、set-数据"><a href="#_4-1-2-2-3-配置数组-list、set-数据" class="header-anchor">#</a> 4.1.2.2.3 配置数组（List、Set）数据</h6> <h1 id="语法-2"><a href="#语法-2" class="header-anchor">#</a> 语法：</h1> <div class="language-yaml extra-class"><pre class="language-yaml"><code>  <span class="token key atrule">key</span><span class="token punctuation">:</span>

   <span class="token punctuation">-</span> value1
   <span class="token punctuation">-</span> value2
     或者：
      <span class="token key atrule">key</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>value1<span class="token punctuation">,</span>value2<span class="token punctuation">]</span>
     示例代码：
</code></pre></div><h1 id="配置数据集合"><a href="#配置数据集合" class="header-anchor">#</a> 配置数据集合</h1> <div class="language-yaml extra-class"><pre class="language-yaml"><code>    <span class="token key atrule">city</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> beijing
        <span class="token punctuation">-</span> tianjin
        <span class="token punctuation">-</span> shanghai
        <span class="token punctuation">-</span> chongqing
</code></pre></div><h1 id="或者行内注入"><a href="#或者行内注入" class="header-anchor">#</a> 或者行内注入</h1> <p>city: [beijing, tianjin, shanghai, chongqing]
注意：value1与之间的 - 之间存在一个空格</p> <p>在 pojo包里面，新建 Mobile 类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Mobile</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> num<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> brand<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Mobile{&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;num='&quot;</span> <span class="token operator">+</span> num <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">&quot;, brand='&quot;</span> <span class="token operator">+</span> brand <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>
                <span class="token string">'}'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNum</span><span class="token punctuation">(</span><span class="token class-name">String</span> num<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">=</span> num<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getBrand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> brand<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBrand</span><span class="token punctuation">(</span><span class="token class-name">String</span> brand<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>brand <span class="token operator">=</span> brand<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>修改 user 类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>pojo</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> nicknames<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Mobile</span><span class="token punctuation">&gt;</span></span> mobiles<span class="token punctuation">;</span>

    <span class="token comment">// 生成set ，get 和 tostring方法</span>
<span class="token punctuation">}</span>
</code></pre></div><p>修改 yml 配置文件，示例代码：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">18082</span>
<span class="token key atrule">user</span><span class="token punctuation">:</span>
  <span class="token key atrule">username</span><span class="token punctuation">:</span> zhangsan
  <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123</span>
  <span class="token key atrule">nicknames</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> lisi
    <span class="token punctuation">-</span> zhaoliu
  <span class="token key atrule">mobiles</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token key atrule">num</span><span class="token punctuation">:</span> <span class="token number">1001</span>
      <span class="token key atrule">brand</span><span class="token punctuation">:</span> 华为
    <span class="token punctuation">-</span> <span class="token key atrule">num</span><span class="token punctuation">:</span> <span class="token number">1002</span>
      <span class="token key atrule">brand</span><span class="token punctuation">:</span> 小米
</code></pre></div><p>注意：value1与之间的 - 之间存在一个空格</p> <p>运行程序</p> <p><img alt="images" data-src="/javanote/assets/img/30.ecf1419a.png" loading="lazy" class="lazy"></p> <h3 id="_4-2-配置文件与配置类的属性映射方式"><a href="#_4-2-配置文件与配置类的属性映射方式" class="header-anchor">#</a> 4.2 配置文件与配置类的属性映射方式</h3> <h4 id="_4-2-1-使用注解-value映射"><a href="#_4-2-1-使用注解-value映射" class="header-anchor">#</a> 4.2.1 使用注解@Value映射</h4> <p>我们可以通过@Value注解将配置文件中的值映射到一个Spring管理的Bean的字段上</p> <p>例如：</p> <p>application.yml配置如下：</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">person</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> zhangsan
  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">18</span>
</code></pre></div><p>实体Bean代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ResponseBody</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Quick2Controller</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${person.name}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${person.addr}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> addr<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/quick&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">quick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//获得配置文件的信息</span>

        <span class="token keyword">return</span> <span class="token string">&quot;name:&quot;</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">&quot;,addr=&quot;</span><span class="token operator">+</span>addr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>浏览器访问地址：http://localhost:8080/quick 结果如下：</p> <p><img alt="images" data-src="data:image/png;base64,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" loading="lazy" class="lazy"></p> <h2 id="五、springboot与整合其他技术"><a href="#五、springboot与整合其他技术" class="header-anchor">#</a> 五、SpringBoot与整合其他技术</h2> <h3 id="_5-1-springboot整合mybatis"><a href="#_5-1-springboot整合mybatis" class="header-anchor">#</a> 5.1 SpringBoot整合Mybatis</h3> <p>新建项目 springboot_mybatis</p> <p><img alt="images" data-src="/javanote/assets/img/32.e4edb030.png" loading="lazy" class="lazy"></p> <p><img alt="images" data-src="/javanote/assets/img/33.fb108311.png" loading="lazy" class="lazy"></p> <h4 id="_5-1-1-添加mybatis的起步依赖"><a href="#_5-1-1-添加mybatis的起步依赖" class="header-anchor">#</a> 5.1.1 添加Mybatis的起步依赖</h4> <details class="custom-block details"><summary>详情</summary> <div class="language-xml extra-class"><pre class="language-xml"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--SpingBoot集成junit测试的起步依赖--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--mybatis起步依赖--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- MySQL连接驱动 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <h4 id="_5-1-3-添加数据库连接信息"><a href="#_5-1-3-添加数据库连接信息" class="header-anchor">#</a> 5.1.3 添加数据库连接信息</h4> <p>在 application.yml 中添加数据量的连接信息</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
  <span class="token key atrule">type-aliases-package</span><span class="token punctuation">:</span> com.atguigu.domain <span class="token comment"># 指定mybatis别名包</span>
  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>com/atguigu/dao/<span class="token important">*.xml</span> <span class="token comment"># 指定xml映射文件路径</span>
<span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token key atrule">com.atguigu.dao</span><span class="token punctuation">:</span> debug <span class="token comment"># 配置日志</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> root
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>3306/springboot<span class="token punctuation">?</span>useUnicode=true<span class="token important">&amp;characterEncoding=utf8</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.jdbc.Driver
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">18081</span>
</code></pre></div><h4 id="_5-1-4-创建user表"><a href="#_5-1-4-创建user表" class="header-anchor">#</a> 5.1.4 创建user表</h4> <p>在test数据库中创建user表</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- ----------------------------</span>
<span class="token comment">-- Table structure for `user`</span>
<span class="token comment">-- ----------------------------</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span><span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token punctuation">(</span>
  <span class="token punctuation">`</span>id<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>username<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>password<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token punctuation">`</span>name<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>id<span class="token punctuation">`</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">10</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token comment">-- ----------------------------</span>
<span class="token comment">-- Records of user</span>
<span class="token comment">-- ----------------------------</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'zhangsan'</span><span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">,</span> <span class="token string">'张三'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> <span class="token punctuation">`</span><span class="token keyword">user</span><span class="token punctuation">`</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'2'</span><span class="token punctuation">,</span> <span class="token string">'lisi'</span><span class="token punctuation">,</span> <span class="token string">'123'</span><span class="token punctuation">,</span> <span class="token string">'李四'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_5-1-5-创建实体bean"><a href="#_5-1-5-创建实体bean" class="header-anchor">#</a> 5.1.5 创建实体Bean</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>
    <span class="token comment">// 主键</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
    <span class="token comment">// 用户名</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token comment">// 密码</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token comment">// 姓名</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token comment">//此处省略getter和setter方法 .. ..</span>

<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-1-6-编写mapper"><a href="#_5-1-6-编写mapper" class="header-anchor">#</a> 5.1.6 编写Mapper</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Mapper</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>注意：@Mapper标记该类是一个mybatis的mapper接口，可以被spring boot自动扫描到spring上下文中</p> <h4 id="_5-1-7-配置mapper映射文件"><a href="#_5-1-7-配置mapper映射文件" class="header-anchor">#</a> 5.1.7 配置Mapper映射文件</h4> <p>在resource文件夹下面新建 com/atguigu/dao/UserDao.xml ，路径下加入UserDao.xml配置文件&quot;</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span> <span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.atguigu.dao.UserDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>findAll<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from user
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_5-1-8-在application-yml中添加mybatis的信息"><a href="#_5-1-8-在application-yml中添加mybatis的信息" class="header-anchor">#</a> 5.1.8 在application.yml中添加mybatis的信息</h4> <p>#spring集成Mybatis环境
#pojo别名扫描包
mybatis.type-aliases-package=com.atguigu.domain
#加载Mybatis映射文件
mybatis.mapper-locations=classpath:com/atguigu/dao/*.xml</p> <h4 id="_5-1-9-编写测试controller"><a href="#_5-1-9-编写测试controller" class="header-anchor">#</a> 5.1.9 编写测试Controller</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/findAll&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> userService<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>5.1.10 新建service</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">UserDao</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userDao<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-1-11-测试"><a href="#_5-1-11-测试" class="header-anchor">#</a> 5.1.11 测试</h4> <p><img alt="images" data-src="/javanote/assets/img/34.563f248c.png" loading="lazy" class="lazy"></p> <p>如果运行报错：说明jar冲突</p> <p><img alt="images" data-src="/javanote/assets/img/35.410877de.png" loading="lazy" class="lazy"></p> <p>解决方案：</p> <p>因为pom.xml中引入了spring-boot-starter-web ，同时pom.xml也引入了spring-core，spring-beans，这里去掉spring-core，spring-beans即可。</p> <h3 id="_5-2-springboot整合junit"><a href="#_5-2-springboot整合junit" class="header-anchor">#</a> 5.2 SpringBoot整合Junit</h3> <h4 id="_5-2-1-添加junit的起步依赖"><a href="#_5-2-1-添加junit的起步依赖" class="header-anchor">#</a> 5.2.1 添加Junit的起步依赖</h4> <div class="language-xml extra-class"><pre class="language-xml"><code>
<span class="token comment">&lt;!--测试的起步依赖--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_5-2-2-编写测试类"><a href="#_5-2-2-编写测试类" class="header-anchor">#</a> 5.2.2 编写测试类</h4> <p>在test文件夹下面新建测试类</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>runner<span class="token punctuation">.</span></span><span class="token class-name">RunWith</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SpringBootTest</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span>junit4<span class="token punctuation">.</span></span><span class="token class-name">SpringRunner</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MapperTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">User</span> user <span class="token operator">:</span> users<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-2-3-控制台打印信息"><a href="#_5-2-3-控制台打印信息" class="header-anchor">#</a> 5.2.3 控制台打印信息</h4> <p><img alt="images" data-src="/javanote/assets/img/36.f44e2eaa.png" loading="lazy" class="lazy"></p> <h3 id="_5-3-springboot整合spring-data-jpa"><a href="#_5-3-springboot整合spring-data-jpa" class="header-anchor">#</a> 5.3 SpringBoot整合Spring Data JPA</h3> <p>新建项目 springboot_jpa</p> <p><img alt="images" data-src="/javanote/assets/img/37.787ca588.png" loading="lazy" class="lazy"></p> <p><img alt="images" data-src="/javanote/assets/img/38.ab47aeb8.png" loading="lazy" class="lazy"></p> <h4 id="_5-3-1-添加spring-data-jpa的起步依赖"><a href="#_5-3-1-添加spring-data-jpa的起步依赖" class="header-anchor">#</a> 5.3.1 添加Spring Data JPA的起步依赖</h4> <details class="custom-block details"><summary>详情</summary> <div class="language-xml extra-class"><pre class="language-xml"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- springBoot JPA的起步依赖 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-jpa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- MySQL连接驱动 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

​

        <span class="token comment">&lt;!-- 配置使用redis启动器 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <h4 id="_5-3-2-添加数据库驱动依赖"><a href="#_5-3-2-添加数据库驱动依赖" class="header-anchor">#</a> 5.3.2 添加数据库驱动依赖</h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- MySQL连接驱动 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_5-3-3-在application-yml中配置数据库和jpa的相关属性"><a href="#_5-3-3-在application-yml中配置数据库和jpa的相关属性" class="header-anchor">#</a> 5.3.3 在application.yml中配置数据库和jpa的相关属性</h4> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token key atrule">com.atguigu.dao</span><span class="token punctuation">:</span> debug <span class="token comment"># 配置日志</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> root
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>3306/springboot<span class="token punctuation">?</span>useUnicode=true<span class="token important">&amp;characterEncoding=utf8</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.jdbc.Driver
  <span class="token key atrule">redis</span><span class="token punctuation">:</span> <span class="token comment">#Redis</span>
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> 127.0.0.1
  <span class="token key atrule">jpa</span><span class="token punctuation">:</span>
    <span class="token key atrule">database</span><span class="token punctuation">:</span> mysql
    <span class="token key atrule">show-sql</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">generate-ddl</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">hibernate</span><span class="token punctuation">:</span>
      <span class="token key atrule">ddl-auto</span><span class="token punctuation">:</span> update
      <span class="token key atrule">naming_strategy</span><span class="token punctuation">:</span> org.hibernate.cfg.ImprovedNamingStrategy
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">18081</span>
</code></pre></div><h4 id="_5-3-4-创建实体配置实体"><a href="#_5-3-4-创建实体配置实体" class="header-anchor">#</a> 5.3.4 创建实体配置实体</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token comment">//此处省略setter和getter方法... ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-3-5-编写userrepository"><a href="#_5-3-5-编写userrepository" class="header-anchor">#</a> 5.3.5 编写UserRepository</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>dao</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>repository<span class="token punctuation">.</span></span><span class="token class-name">JpaRepository</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserDao</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-3-6-编写service类"><a href="#_5-3-6-编写service类" class="header-anchor">#</a> 5.3.6 编写service类</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">User</span> <span class="token function">findUserById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">saveUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">deleteUserById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span><span class="token class-name">UserDao</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

    <span class="token comment">/**
     * 查询所有
     * @return
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userDao<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 根据id查询
     * @return
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">findUserById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userDao<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 保存
     * @return
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">saveUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 更新
     * @return
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userDao<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/**
     * 根据id删除
     * @return
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteUserById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        userDao<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-3-6-编写controller类"><a href="#_5-3-6-编写controller类" class="header-anchor">#</a> 5.3.6 编写controller类</h4> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span><span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/findAll&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> userService<span class="token punctuation">.</span><span class="token function">findUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="_5-3-7-控制台打印信息"><a href="#_5-3-7-控制台打印信息" class="header-anchor">#</a> 5.3.7 控制台打印信息</h4> <p><img alt="images" data-src="data:image/png;base64,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" loading="lazy" class="lazy"></p> <p>注意：如果是jdk9，执行报错如下：</p> <p><img alt="images" data-src="/javanote/assets/img/40.a93be5c3.png" loading="lazy" class="lazy"></p> <p>原因：jdk缺少相应的jar</p> <p>解决方案：手动导入对应的maven坐标，如下：</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--jdk9需要导入如下坐标--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.xml.bind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jaxb-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="_5-4-springboot整合redis"><a href="#_5-4-springboot整合redis" class="header-anchor">#</a> 5.4 SpringBoot整合Redis</h3> <p>找到上面的 springboot_mybatis 项目，添加pom文件</p> <h4 id="_5-4-1-添加redis的起步依赖"><a href="#_5-4-1-添加redis的起步依赖" class="header-anchor">#</a> 5.4.1 添加redis的起步依赖</h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- 配置使用redis启动器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="_5-4-2-配置redis的连接信息"><a href="#_5-4-2-配置redis的连接信息" class="header-anchor">#</a> 5.4.2 配置redis的连接信息</h4> <p>在 application.yml 文件 添加 redis 的配置信息</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
  <span class="token key atrule">type-aliases-package</span><span class="token punctuation">:</span> com.atguigu.domain <span class="token comment"># 指定mybatis别名包</span>
  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>com/atguigu/dao/<span class="token important">*.xml</span> <span class="token comment"># 指定xml映射文件路径</span>
<span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>

    <span class="token key atrule">com.atguigu.dao</span><span class="token punctuation">:</span> debug <span class="token comment"># 配置日志</span>

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>

    <span class="token key atrule">username</span><span class="token punctuation">:</span> root
    <span class="token key atrule">password</span><span class="token punctuation">:</span> root
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//127.0.0.1<span class="token punctuation">:</span>3306/springboot<span class="token punctuation">?</span>useUnicode=true<span class="token important">&amp;characterEncoding=utf8</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.jdbc.Driver

  <span class="token key atrule">redis</span><span class="token punctuation">:</span> <span class="token comment">#Redis</span>

    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">6379</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> 127.0.0.1

<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">18081</span>
</code></pre></div><h4 id="_5-4-3-注入redistemplate测试redis操作"><a href="#_5-4-3-注入redistemplate测试redis操作" class="header-anchor">#</a> 5.4.3 注入RedisTemplate测试redis操作</h4> <p>在 service 的实现类里面实现业务逻辑</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span> <span class="token class-name">UserDao</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span> <span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>atguigu<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span> <span class="token class-name">UserService</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span> <span class="token class-name">Autowired</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>redis<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span> <span class="token class-name">RedisTemplate</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span> <span class="token class-name">Service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span> redisTemplate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// redis的key</span>
        <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token string">&quot;alluser&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 先查询redis中是否有数据，如果有直接返回redis的数据</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> redisTemplate<span class="token punctuation">.</span><span class="token function">boundValueOps</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>users<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> users<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 如果没有，查询数据库</span>
        users <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 将数据库数据存入到redis中</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>users <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> users<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            redisTemplate<span class="token punctuation">.</span><span class="token function">boundValueOps</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> users<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>运行程序</p> <p><img alt="images" data-src="/javanote/assets/img/41.2b830044.png" loading="lazy" class="lazy"></p> <h3 id="_5-5-springboot整合定时任务"><a href="#_5-5-springboot整合定时任务" class="header-anchor">#</a> 5.5 SpringBoot整合定时任务</h3> <p>创建项目 springboot_task</p> <p>添加pom文件</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!--父工程--&gt;</span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1.6.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>



        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- 添加 Scheduled 坐标 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context-support<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.0.5. RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>创建 BootApplication</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span> <span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span> <span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>scheduling<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span> <span class="token class-name">EnableScheduling</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableScheduling</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BootApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">BootApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>创建 TaskController</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">Date</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span> <span class="token class-name">Logger</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>scheduling<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span> <span class="token class-name">Scheduled</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span> <span class="token class-name">Component</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span> <span class="token class-name">Controller</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TaskController</span> <span class="token punctuation">{</span>

    <span class="token comment">/**
     *  @Scheduled:定时规则
     *       cron:,项目启动后每5秒执行一次
     *
     *       fixedDelay:距离上一次定时任务执行完毕后N毫秒在执行，
     *       执行A任务花了5秒，比如参数是3000，A任务执行完成之后，在过3秒执行
     *
     *       fixedRate:执行周期，执行频率，
     *       定时任务执行开始，在过N毫秒后执行，
     *       执行A任务花了2秒，比如参数是3000，A任务执行完成之后，在过1秒后执行，
     *       执行A任务花了15秒，比如参数是3000，A任务执行完成之后，立即执行。
     *
     * @auther
     * @return void
     */</span>
    <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>fixedDelay <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>运行程序 ， 每隔 3秒钟 执行一次</p> <p><img alt="images" data-src="/javanote/assets/img/42.76b6d89e.png" loading="lazy" class="lazy"></p> <p>修改程序 ， 增加休眠时间 ， 测试</p> <p><img alt="images" data-src="/javanote/assets/img/43.2febf6c5.png" loading="lazy" class="lazy"></p> <p>运行程序 ，每隔 6秒 执行一次</p> <p><img alt="images" data-src="/javanote/assets/img/44.7ca8ceac.png" loading="lazy" class="lazy"></p> <p>修改程序 ，换成 fixedRate 参数</p> <div class="language-java extra-class"><pre class="language-java"><code>    <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>fixedRate <span class="token operator">=</span> <span class="token number">3000</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">try</span> <span class="token punctuation">{</span>
         <span class="token comment">//   Thread.sleep(3000);</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>
</code></pre></div><p>运行程序 ，每隔 3秒 执行一次</p> <p><img alt="images" data-src="/javanote/assets/img/45.c12895f7.png" loading="lazy" class="lazy"></p> <p>修改程序 , 添加休眠</p> <p><img alt="images" data-src="/javanote/assets/img/46.bbdf93eb.png" loading="lazy" class="lazy"></p> <p>运行程序 ，每隔 5 秒 执行一次</p> <p><img alt="images" data-src="/javanote/assets/img/47.8130d741.png" loading="lazy" class="lazy"></p> <p>修改程序 ，换成 cron 参数</p> <div class="language-java extra-class"><pre class="language-java"><code> <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">&quot;0/5 * * * * *&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myTask</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre></div><p>运行程序 ， 每隔5秒打印一次</p> <p><img alt="images" data-src="data:image/png;base64,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" loading="lazy" class="lazy"></p> <h3 id="_5-6-springboot整合模板"><a href="#_5-6-springboot整合模板" class="header-anchor">#</a> 5.6 SpringBoot整合模板</h3> <p>开发传统Java WEB工程时，我们可以使用JSP页面模板语言，但是在SpringBoot中已经不推荐使用了。SpringBoot支持如下页面模板语言</p> <ul><li>Thymeleaf</li> <li>FreeMarker</li> <li>Velocity</li> <li>Groovy</li> <li>JSP</li></ul> <p>上面并没有列举所有SpringBoot支持的页面模板技术。其中Thymeleaf是SpringBoot官方所推荐使用的</p> <h4 id="_5-6-1-thymeleaf介绍"><a href="#_5-6-1-thymeleaf介绍" class="header-anchor">#</a> 5.6.1 Thymeleaf介绍</h4> <p>在应用开发中，你可以使用Thymeleaf来完全代替JSP</p> <p>模板：将一些重复内容写好，其中某些可能发生变化的内容，采用占位符方式动态加载（JSP），类似10086群发短信 每个人收到的短信内容一模一样 ， 只是名字不一样，一样的内容称之为模板</p> <p>模板引擎技术：可以基于写好的模板，动态给写好的模板加载数据。</p> <p>Thymeleaf:==Thymeleaf是一个模板引擎工具，主要用于页面渲染操作(页面数据填充操作)，可以取代之前的jsp操作。==</p> <h4 id="_5-6-2-springboot整合thymeleaf"><a href="#_5-6-2-springboot整合thymeleaf" class="header-anchor">#</a> 5.6.2 Springboot整合thymeleaf</h4> <p>使用springboot 来集成使用Thymeleaf可以大大减少单纯使用thymleaf的代码量，所以我们接下来使用springboot集成使用thymeleaf.</p> <p>实现的步骤为：</p> <p>创建一个sprinboot项目</p> <p>添加thymeleaf的起步依赖</p> <p>添加spring web的起步依赖</p> <p>编写html 使用thymleaf的语法获取变量对应后台传递的值</p> <p>编写controller 设置变量的值到model中</p> <p>==视图:
prefix: 前缀
classpath:/templates/
suffix: 后缀
.html==</p> <p>(1) 创建工程</p> <p>创建一个独立的工程 springboot-thymeleaf</p> <p>pom.xml依赖</p> <details class="custom-block details"><summary>详细信息</summary> <div class="language-xml extra-class"><pre class="language-xml"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1.6.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span> <span class="token comment">&lt;!-- lookup parent from repository --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>



        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>



        <span class="token comment">&lt;!--热部署插件--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>



    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>



    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <p>(2) 创建html</p> <p>在 resources 中创建 templates 目录，在templates 目录创建 demo1.html , 代码如下：</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!</span> <span class="token attr-name">DOCTYPE</span> <span class="token attr-name">html</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--这句声明使用thymeleaf标签--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Thymeleaf的入门<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--输出hello数据这句使用 th:text=&quot;${变量名}&quot;
        表示 使用thymeleaf获取文本数据，类似于EL表达式。
        thymeleaf：都是作用于HTML标签之上--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${hello}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>(3) 修改 application.yml 配置</p> <p>创建 application.yml , 并设置 thymeleaf 的缓存设置，设置为false。</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">thymeleaf</span><span class="token punctuation">:</span>
    <span class="token key atrule">cache</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre></div><p>(4) 控制层</p> <p>创建 controller 用于测试后台 设置数据到model中。</p> <p>创建 com.maweiqi.controller. TestController，代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span> <span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>ui<span class="token punctuation">.</span></span> <span class="token class-name">Model</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span> <span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

    <span class="token comment">/***
     * 访问/test/hello  跳转到demo1页面
     * @param model
     * @return
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>

        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello welcome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string">&quot;demo1&quot;</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>(5) 测试</p> <p>创建启动类com.maweiqi. ThymeleafApplication，代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span> <span class="token class-name">SpringApplication</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span> <span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThymeleafApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ThymeleafApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>启动系统，并在浏览器访问 http://localhost:8080/test/hello</p> <p><img alt="images" data-src="/javanote/assets/img/49.d019a884.png" loading="lazy" class="lazy"></p> <p>（6）设置缓存不起作用，开启自动编译</p> <p><img alt="images" data-src="/javanote/assets/img/50.fdaabc3a.png" loading="lazy" class="lazy"></p> <h4 id="_5-6-3-thymeleaf基本语法"><a href="#_5-6-3-thymeleaf基本语法" class="header-anchor">#</a> 5.6.3 Thymeleaf基本语法</h4> <p>(1) th:action</p> <p>定义后台控制器路径，类似 <code>&lt;form&gt;</code> 标签的action属性。</p> <p>例如：修改刚刚 demo01.html 页面</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>login-form<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/test/hello}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>表示提交的请求地址为/test/hello</p> <p>在 controller 里面打一个断点，点击提交请求， 直接到 controller 里面</p> <p><img alt="images" data-src="/javanote/assets/img/51.52110579.png" loading="lazy" class="lazy"></p> <p>(2) th:each</p> <p>对象遍历，功能类似 jstl 中的<code>&lt;c:forEach&gt;</code>标签。</p> <p>创建 com.maweiqi.model. User , 代码如下：</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>domain</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span> <span class="token class-name">Serializable</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
    <span class="token comment">//..get..set  toString</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> address<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>
</code></pre></div><p>Controller 添加数据</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span> <span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span> <span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>ui<span class="token punctuation">.</span></span> <span class="token class-name">Model</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span> <span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">List</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

    <span class="token comment">/***
     * 访问/test/hello  跳转到demo1页面
     * @param model
     * @return
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>

        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;hello welcome&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//集合数据</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;深圳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;武汉&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;users&quot;</span><span class="token punctuation">,</span> users<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string">&quot;demo1&quot;</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>修改demo01.html 页面</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!</span> <span class="token attr-name">DOCTYPE</span> <span class="token attr-name">html</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--这句声明使用thymeleaf标签--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Thymeleaf的入门<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>下标<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>编号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>姓名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>住址<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>

            <span class="token comment">&lt;!--
     循环：第一个参数：user ：当前被循环的对象
          第二个参数：userStat：当前循环的下标
    --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user,userStat:${users}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">&gt;</span></span>
                    下标:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${userStat.index}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>,
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${user.id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${user.name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${user.address}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>测试效果 http://localhost:8080/test/hello</p> <p><img alt="images" data-src="/javanote/assets/img/52.1cc6d6b1.png" loading="lazy" class="lazy"></p> <p>(3) Map输出</p> <p>后台添加Map</p> <details class="custom-block details"><summary>详情</summary> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span> <span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span> <span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>ui<span class="token punctuation">.</span></span> <span class="token class-name">Model</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span> <span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

    <span class="token comment">/***
     * 访问/test/hello  跳转到demo1页面
     * @param model
     * @return
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token comment">//        model.addAttribute(&quot;hello&quot;, &quot;hello welcome&quot;);</span>
<span class="token comment">//</span>
<span class="token comment">//        //集合数据</span>
<span class="token comment">//        List&lt;User&gt; users = new ArrayList&lt;User&gt;();</span>
<span class="token comment">//        users.add(new User(1, &quot;张三&quot;, &quot;深圳&quot;));</span>
<span class="token comment">//        users.add(new User(2, &quot;李四&quot;, &quot;北京&quot;));</span>
<span class="token comment">//        users.add(new User(3, &quot;王五&quot;, &quot;武汉&quot;));</span>
<span class="token comment">//        model.addAttribute(&quot;users&quot;, users);</span>

        <span class="token comment">//Map定义</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> dataMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;No&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;深圳&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;dataMap&quot;</span><span class="token punctuation">,</span> dataMap<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string">&quot;demo1&quot;</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div></details> <p>页面输出 修改 demo01.html</p> <details class="custom-block details"><summary>详情</summary> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!</span> <span class="token attr-name">DOCTYPE</span> <span class="token attr-name">html</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--这句声明使用thymeleaf标签--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Thymeleaf的入门<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>

            <span class="token comment">&lt;!-- 读取map2种方式
    1：知道map的key ， 直接根据key 获取数据
    2：不知道map的key，循环方式获取key，然后获取数据

   --&gt;</span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span>方式1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
                获取Key=NO的值：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${dataMap.No}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
                获取key=address的值：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${dataMap.address}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span><span class="token punctuation">&gt;</span></span>方式2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>map:${dataMap}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${map.key}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${map.value}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <p>测试请求： http://localhost:8080/test/hello</p> <p><img alt="images" data-src="/javanote/assets/img/53.34875193.png" loading="lazy" class="lazy"></p> <p>(4) 数组输出</p> <p>后台添加数组</p> <details class="custom-block details"><summary>详情</summary> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span> <span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span> <span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>ui<span class="token punctuation">.</span></span> <span class="token class-name">Model</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span> <span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">ArrayList</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">HashMap</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">List</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span> <span class="token class-name">Map</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

    <span class="token comment">/***
     * 访问/test/hello  跳转到demo1页面
     * @param model
     * @return
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>

         <span class="token comment">//存储一个数组</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> names <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;王五&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;names&quot;</span><span class="token punctuation">,</span> names<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string">&quot;demo1&quot;</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div></details> <p>页面输出</p> <details class="custom-block details"><summary>详情</summary> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nm, nmStat:${names}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${nmStat.count}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${nm}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <p>测试效果</p> <p><img alt="images" data-src="/javanote/assets/img/54.fb8dea9e.png" loading="lazy" class="lazy"></p> <p>(5) Date输出</p> <p>后台添加日期</p> <details class="custom-block details"><summary>详情</summary> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span> <span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span> <span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>ui<span class="token punctuation">.</span></span> <span class="token class-name">Model</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span> <span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

    <span class="token comment">/***
     * 访问/test/hello  跳转到demo1页面
     * @param model
     * @return
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token comment">//日期</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;now&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string">&quot;demo1&quot;</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div></details> <p>页面输出</p> <details class="custom-block details"><summary>详情</summary> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!</span> <span class="token attr-name">DOCTYPE</span> <span class="token attr-name">html</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--这句声明使用thymeleaf标签--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Thymeleaf的入门<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${#dates.format(now,<span class="token punctuation">'</span>yyyy-MM-dd HH:mm:ss<span class="token punctuation">'</span>)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <p>测试效果</p> <p><img alt="images" data-src="/javanote/assets/img/55.aaf929a2.png" loading="lazy" class="lazy"></p> <p>(6) th:if条件</p> <p>后台添加年龄</p> <details class="custom-block details"><summary>详情</summary> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>maweiqi<span class="token punctuation">.</span>domain<span class="token punctuation">.</span></span> <span class="token class-name">User</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span> <span class="token class-name">Controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>ui<span class="token punctuation">.</span></span> <span class="token class-name">Model</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span> <span class="token class-name">RequestMapping</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Controller</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>

    <span class="token comment">/***
     * 访问/test/hello  跳转到demo1页面
     * @param model
     * @return
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">{</span>

        <span class="token comment">//if条件</span>
        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;age&quot;</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string">&quot;demo1&quot;</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div></details> <p>页面输出</p> <details class="custom-block details"><summary>详情</summary> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!</span> <span class="token attr-name">DOCTYPE</span> <span class="token attr-name">html</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--这句声明使用thymeleaf标签--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Thymeleaf的入门<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!--if:th：unless表示条件不成立 ，输出数据--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>

            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${(age&gt;=18)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>终于长大了！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>${age&lt;18}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>成年人<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <p>测试效果</p> <p><img alt="images" data-src="/javanote/assets/img/56.80fb58a4.png" loading="lazy" class="lazy"></p> <p>(7) th:fragment 定义一个模块</p> <p>可以定义一个独立的模块，在 templates 文件夹下面，创建一个 footer.html 代码如下：</p> <details class="custom-block details"><summary>详情</summary> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!</span> <span class="token attr-name">DOCTYPE</span> <span class="token attr-name">html</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html;charset=charset=utf-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>fragment<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>copy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

            关于我们<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <p>(8) th:include</p> <p>可以直接引入th:fragment, 在 demo1.html 中引入如下代码：</p> <details class="custom-block details"><summary>详情</summary> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!</span> <span class="token attr-name">DOCTYPE</span> <span class="token attr-name">html</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--这句声明使用thymeleaf标签--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.thymeleaf.org<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Thymeleaf的入门<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Content-Type<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/html; charset=UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer::copy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></details> <p>运行测试</p> <p><img alt="images" data-src="/javanote/assets/img/57.d65fd7c8.png" loading="lazy" class="lazy"></p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/javanote/note/microservice/springcloud/day01/">
        第1天 SpringCloud
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/javanote/assets/js/app.4d8a0605.js" defer></script><script src="/javanote/assets/js/11.31b4bfe5.js" defer></script><script src="/javanote/assets/js/10.c191a387.js" defer></script>
  </body>
</html>
